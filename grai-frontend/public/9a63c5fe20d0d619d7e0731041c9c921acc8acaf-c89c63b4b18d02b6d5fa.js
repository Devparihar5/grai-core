(self.webpackChunkmostly_harmless=self.webpackChunkmostly_harmless||[]).push([[170],{7757:function(e,t,r){e.exports=r(5666)},4944:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function v(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,r,n=d(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=p(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=l(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var r,n,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function k(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];w.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,r){return new Promise((function(n,a){var o=new g(e,r);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new w(i,r))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}x.polyfill=!0,e.fetch||(e.fetch=x,e.Headers=f,e.Request=g,e.Response=w),t.Headers=f,t.Request=g,t.Response=w,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},6218:function(e,t,r){r(5743);var n=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},2014:function(e){"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty,i="undefined"!=typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,u,c,l=t(e),h=t(o);if(l&&h){if((u=e.length)!=o.length)return!1;for(s=u;0!=s--;)if(!a(e[s],o[s]))return!1;return!0}if(l!=h)return!1;var f=e instanceof Date,d=o instanceof Date;if(f!=d)return!1;if(f&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var y=r(e);if((u=y.length)!==r(o).length)return!1;for(s=u;0!=s--;)if(!n.call(o,y[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=u;0!=s--;)if(!("_owner"===(c=y[s])&&e.$$typeof||a(e[c],o[c])))return!1;return!0}return e!=e&&o!=o}e.exports=function(e,t){try{return a(e,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||-2146828260===r.number)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}},3015:function(e,t,r){"use strict";var n=r(3906);e=r.hmd(e);var i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?n.Z.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.Z=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},7209:function(e,t,r){"use strict";var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.Z=n},9890:function(e,t,r){"use strict";var n=r(7209);e=r.hmd(e);var i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&n.Z.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();t.Z=s},3906:function(e,t,r){"use strict";var n=r(7209),i="object"==typeof self&&self&&self.Object===Object&&self,a=n.Z||i||Function("return this")();t.Z=a},1473:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(3906);var i=function(){return!1};e=r.hmd(e);var a="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?n.Z.Buffer:void 0,u=(s?s.isBuffer:void 0)||i},2960:function(e,t,r){var n;if(r(5743),"object"==typeof globalThis)n=globalThis;else try{n=r(6218)}catch(s){}finally{if(n||"undefined"==typeof window||(n=window),!n)throw new Error("Could not determine global this")}var i=n.WebSocket||n.MozWebSocket,a=r(7284);function o(e,t){return t?new i(e,t):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?o:null,version:a}},7284:function(e,t,r){e.exports=r(9794).version},840:function(e,t,r){"use strict";r.d(t,{Cd:function(){return io}});var n=r(2982),i=r(7294),a=r(8408),o=r(3050),s=r(9698),u=r(8574),c=r(8426);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function h(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var f=["id","isRequired","isInvalid","isDisabled","isReadOnly"],d=["getRootProps","htmlProps"],p=(0,u.kr)({strict:!1,name:"FormControlContext"}),v=p[0],y=p[1];var m=(0,o.Gp)((function(e,t){var r=(0,o.jC)("Form",e),n=function(e){var t=e.id,r=e.isRequired,n=e.isInvalid,o=e.isDisabled,c=e.isReadOnly,d=h(e,f),p=(0,a.Me)(),v=t||"field-"+p,y=v+"-label",m=v+"-feedback",b=v+"-helptext",g=i.useState(!1),k=g[0],w=g[1],_=i.useState(!1),x=_[0],E=_[1],T=(0,a.kt)(),S=T[0],j=T[1],O=i.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),l({id:b},e,{ref:(0,u.lq)(t,(function(e){e&&E(!0)}))})}),[b]),R=i.useCallback((function(e,t){var r,i;return void 0===e&&(e={}),void 0===t&&(t=null),l({},e,{ref:t,"data-focus":(0,s.PB)(S),"data-disabled":(0,s.PB)(o),"data-invalid":(0,s.PB)(n),"data-readonly":(0,s.PB)(c),id:null!=(r=e.id)?r:y,htmlFor:null!=(i=e.htmlFor)?i:v})}),[v,o,S,n,c,y]),A=i.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),l({id:m},e,{ref:(0,u.lq)(t,(function(e){e&&w(!0)})),"aria-live":"polite"})}),[m]),P=i.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),l({},e,d,{ref:t,role:"group"})}),[d]),I=i.useCallback((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),l({},e,{ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!r,isInvalid:!!n,isReadOnly:!!c,isDisabled:!!o,isFocused:!!S,onFocus:j.on,onBlur:j.off,hasFeedbackText:k,setHasFeedbackText:w,hasHelpText:x,setHasHelpText:E,id:v,labelId:y,feedbackId:m,helpTextId:b,htmlProps:d,getHelpTextProps:O,getErrorMessageProps:A,getRootProps:P,getLabelProps:R,getRequiredIndicatorProps:I}}((0,o.Lr)(e)),c=n.getRootProps;n.htmlProps;var p=h(n,d),y=(0,s.cx)("chakra-form-control",e.className),m=i.useMemo((function(){return p}),[p]);return i.createElement(v,{value:m},i.createElement(o.Fo,{value:r},i.createElement(o.m$.div,l({},c({},t),{className:y,__css:r.container}))))}));s.Ts&&(m.displayName="FormControl");var b=(0,o.Gp)((function(e,t){var r=y(),n=(0,o.yK)(),a=(0,s.cx)("chakra-form__helper-text",e.className);return i.createElement(o.m$.div,l({},null==r?void 0:r.getHelpTextProps(e,t),{__css:n.helperText,className:a}))}));s.Ts&&(b.displayName="FormHelperText");var g=["isDisabled","isInvalid","isReadOnly","isRequired"],k=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function w(e){var t=function(e){var t,r,n,i=y(),a=e.id,o=e.disabled,u=e.readOnly,c=e.required,f=e.isRequired,d=e.isInvalid,p=e.isReadOnly,v=e.isDisabled,m=e.onFocus,b=e.onBlur,g=h(e,k),w=e["aria-describedby"]?[e["aria-describedby"]]:[];null!=i&&i.hasFeedbackText&&null!=i&&i.isInvalid&&w.push(i.feedbackId);null!=i&&i.hasHelpText&&w.push(i.helpTextId);return l({},g,{"aria-describedby":w.join(" ")||void 0,id:null!=a?a:null==i?void 0:i.id,isDisabled:null!=(t=null!=o?o:v)?t:null==i?void 0:i.isDisabled,isReadOnly:null!=(r=null!=u?u:p)?r:null==i?void 0:i.isReadOnly,isRequired:null!=(n=null!=c?c:f)?n:null==i?void 0:i.isRequired,isInvalid:null!=d?d:null==i?void 0:i.isInvalid,onFocus:(0,s.v0)(null==i?void 0:i.onFocus,m),onBlur:(0,s.v0)(null==i?void 0:i.onBlur,b)})}(e),r=t.isDisabled,n=t.isInvalid,i=t.isReadOnly,a=t.isRequired;return l({},h(t,g),{disabled:r,readOnly:i,required:a,"aria-invalid":(0,s.Qm)(n),"aria-required":(0,s.Qm)(a),"aria-readonly":(0,s.Qm)(i)})}var _=(0,o.Gp)((function(e,t){var r=(0,o.jC)("FormError",e),n=(0,o.Lr)(e),a=y();return null!=a&&a.isInvalid?i.createElement(o.Fo,{value:r},i.createElement(o.m$.div,l({},null==a?void 0:a.getErrorMessageProps(n,t),{className:(0,s.cx)("chakra-form__error-message",e.className),__css:l({display:"flex",alignItems:"center"},r.text)}))):null}));s.Ts&&(_.displayName="FormErrorMessage");var x=(0,o.Gp)((function(e,t){var r=(0,o.yK)(),n=y();if(null==n||!n.isInvalid)return null;var a=(0,s.cx)("chakra-form__error-icon",e.className);return i.createElement(c.ZP,l({ref:t,"aria-hidden":!0},e,{__css:r.icon,className:a}),i.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}));s.Ts&&(x.displayName="FormErrorIcon");var E=["className","children","requiredIndicator"],T=(0,o.Gp)((function(e,t){var r,n=(0,o.mq)("FormLabel",e),a=(0,o.Lr)(e);a.className;var u=a.children,c=a.requiredIndicator,f=void 0===c?i.createElement(S,null):c,d=h(a,E),p=y(),v=null!=(r=null==p?void 0:p.getLabelProps(d,t))?r:l({ref:t},d);return i.createElement(o.m$.label,l({},v,{className:(0,s.cx)("chakra-form__label",a.className),__css:l({display:"block",textAlign:"start"},n)}),u,null!=p&&p.isRequired?f:null)}));s.Ts&&(T.displayName="FormLabel");var S=(0,o.Gp)((function(e,t){var r=y(),n=(0,o.yK)();if(null==r||!r.isRequired)return null;var a=(0,s.cx)("chakra-form__required-indicator",e.className);return i.createElement(o.m$.span,l({},null==r?void 0:r.getRequiredIndicatorProps(e,t),{__css:n.requiredIndicator,className:a}))}));function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}s.Ts&&(S.displayName="RequiredIndicator");var O=(0,o.Gp)((function(e,t){var r=(0,o.jC)("Input",e),n=w((0,o.Lr)(e)),a=(0,s.cx)("chakra-input",e.className);return i.createElement(o.m$.input,j({},n,{__css:r.field,ref:t,className:a}))}));function R(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}s.Ts&&(O.displayName="Input"),O.id="Input";var A=["placement"],P={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},I=(0,o.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),C=(0,o.Gp)((function(e,t){var r,n=e.placement,a=void 0===n?"left":n,s=R(e,A),u=null!=(r=P[a])?r:{},c=(0,o.yK)();return i.createElement(I,j({ref:t},s,{__css:j({},c.addon,u)}))}));s.Ts&&(C.displayName="InputAddon");var N=(0,o.Gp)((function(e,t){return i.createElement(C,j({ref:t,placement:"left"},e,{className:(0,s.cx)("chakra-input__left-addon",e.className)}))}));s.Ts&&(N.displayName="InputLeftAddon"),N.id="InputLeftAddon";var U=(0,o.Gp)((function(e,t){return i.createElement(C,j({ref:t,placement:"right"},e,{className:(0,s.cx)("chakra-input__right-addon",e.className)}))}));s.Ts&&(U.displayName="InputRightAddon"),U.id="InputRightAddon";var F=["children","className"],D=(0,o.Gp)((function(e,t){var r=(0,o.jC)("Input",e),n=(0,o.Lr)(e),a=n.children,c=n.className,l=R(n,F),h=(0,s.cx)("chakra-input__group",c),f={},d=(0,u.WR)(a),p=r.field;d.forEach((function(e){if(r){var t,n;if(p&&"InputLeftElement"===e.type.id)f.paddingStart=null!=(t=p.height)?t:p.h;if(p&&"InputRightElement"===e.type.id)f.paddingEnd=null!=(n=p.height)?n:p.h;"InputRightAddon"===e.type.id&&(f.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(f.borderStartRadius=0)}}));var v=d.map((function(t){var r,n,a=(0,s.YU)({size:(null==(r=t.props)?void 0:r.size)||e.size,variant:(null==(n=t.props)?void 0:n.variant)||e.variant});return"Input"!==t.type.id?i.cloneElement(t,a):i.cloneElement(t,Object.assign(a,f,t.props))}));return i.createElement(o.m$.div,j({className:h,ref:t,__css:{width:"100%",display:"flex",position:"relative"}},l),i.createElement(o.Fo,{value:r},v))}));s.Ts&&(D.displayName="InputGroup");var L=["placement"],M=["className"],B=["className"],G=(0,o.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),H=(0,o.Gp)((function(e,t){var r,n,a,s=e.placement,u=void 0===s?"left":s,c=R(e,L),l=(0,o.yK)().field,h=((a={})["left"===u?"insetStart":"insetEnd"]="0",a.width=null!=(r=null==l?void 0:l.height)?r:null==l?void 0:l.h,a.height=null!=(n=null==l?void 0:l.height)?n:null==l?void 0:l.h,a.fontSize=null==l?void 0:l.fontSize,a);return i.createElement(G,j({ref:t,__css:h},c))}));H.id="InputElement",s.Ts&&(H.displayName="InputElement");var q=(0,o.Gp)((function(e,t){var r=e.className,n=R(e,M),a=(0,s.cx)("chakra-input__left-element",r);return i.createElement(H,j({ref:t,placement:"left",className:a},n))}));q.id="InputLeftElement",s.Ts&&(q.displayName="InputLeftElement");var z=(0,o.Gp)((function(e,t){var r=e.className,n=R(e,B),a=(0,s.cx)("chakra-input__right-element",r);return i.createElement(H,j({ref:t,placement:"right",className:a},n))}));z.id="InputRightElement",s.Ts&&(z.displayName="InputRightElement");var V=r(6541),J=r(9317),Z=r(2014),$=r.n(Z),K=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===W}(e)}(e)};var W="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Y(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Q((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function X(e,t,r){return e.concat(t).map((function(e){return Y(e,r)}))}function Q(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||X,r.isMergeableObject=r.isMergeableObject||K;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):function(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach((function(t){n[t]=Y(e[t],r)})),Object.keys(t).forEach((function(i){r.isMergeableObject(t[i])&&e[i]?n[i]=Q(e[i],t[i],r):n[i]=Y(t[i],r)})),n}(e,t,r):Y(t,r)}Q.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return Q(e,r,t)}),{})};var ee=Q,te=r(3906),re=te.Z.Symbol,ne=Object.prototype,ie=ne.hasOwnProperty,ae=ne.toString,oe=re?re.toStringTag:void 0;var se=function(e){var t=ie.call(e,oe),r=e[oe];try{e[oe]=void 0;var n=!0}catch(a){}var i=ae.call(e);return n&&(t?e[oe]=r:delete e[oe]),i},ue=Object.prototype.toString;var ce=function(e){return ue.call(e)},le=re?re.toStringTag:void 0;var he=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":le&&le in Object(e)?se(e):ce(e)};var fe=function(e,t){return function(r){return e(t(r))}},de=fe(Object.getPrototypeOf,Object);var pe=function(e){return null!=e&&"object"==typeof e},ve=Function.prototype,ye=Object.prototype,me=ve.toString,be=ye.hasOwnProperty,ge=me.call(Object);var ke=function(e){if(!pe(e)||"[object Object]"!=he(e))return!1;var t=de(e);if(null===t)return!0;var r=be.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&me.call(r)==ge};var we=function(){this.__data__=[],this.size=0};var _e=function(e,t){return e===t||e!=e&&t!=t};var xe=function(e,t){for(var r=e.length;r--;)if(_e(e[r][0],t))return r;return-1},Ee=Array.prototype.splice;var Te=function(e){var t=this.__data__,r=xe(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ee.call(t,r,1),--this.size,!0)};var Se=function(e){var t=this.__data__,r=xe(t,e);return r<0?void 0:t[r][1]};var je=function(e){return xe(this.__data__,e)>-1};var Oe=function(e,t){var r=this.__data__,n=xe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Re(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Re.prototype.clear=we,Re.prototype.delete=Te,Re.prototype.get=Se,Re.prototype.has=je,Re.prototype.set=Oe;var Ae=Re;var Pe=function(){this.__data__=new Ae,this.size=0};var Ie=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Ce=function(e){return this.__data__.get(e)};var Ne=function(e){return this.__data__.has(e)};var Ue=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Fe,De=function(e){if(!Ue(e))return!1;var t=he(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Le=te.Z["__core-js_shared__"],Me=(Fe=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||""))?"Symbol(src)_1."+Fe:"";var Be=function(e){return!!Me&&Me in e},Ge=Function.prototype.toString;var He=function(e){if(null!=e){try{return Ge.call(e)}catch(t){}try{return e+""}catch(t){}}return""},qe=/^\[object .+?Constructor\]$/,ze=Function.prototype,Ve=Object.prototype,Je=ze.toString,Ze=Ve.hasOwnProperty,$e=RegExp("^"+Je.call(Ze).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ke=function(e){return!(!Ue(e)||Be(e))&&(De(e)?$e:qe).test(He(e))};var We=function(e,t){return null==e?void 0:e[t]};var Ye=function(e,t){var r=We(e,t);return Ke(r)?r:void 0},Xe=Ye(te.Z,"Map"),Qe=Ye(Object,"create");var et=function(){this.__data__=Qe?Qe(null):{},this.size=0};var tt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},rt=Object.prototype.hasOwnProperty;var nt=function(e){var t=this.__data__;if(Qe){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return rt.call(t,e)?t[e]:void 0},it=Object.prototype.hasOwnProperty;var at=function(e){var t=this.__data__;return Qe?void 0!==t[e]:it.call(t,e)};var ot=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Qe&&void 0===t?"__lodash_hash_undefined__":t,this};function st(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}st.prototype.clear=et,st.prototype.delete=tt,st.prototype.get=nt,st.prototype.has=at,st.prototype.set=ot;var ut=st;var ct=function(){this.size=0,this.__data__={hash:new ut,map:new(Xe||Ae),string:new ut}};var lt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ht=function(e,t){var r=e.__data__;return lt(t)?r["string"==typeof t?"string":"hash"]:r.map};var ft=function(e){var t=ht(this,e).delete(e);return this.size-=t?1:0,t};var dt=function(e){return ht(this,e).get(e)};var pt=function(e){return ht(this,e).has(e)};var vt=function(e,t){var r=ht(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function yt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yt.prototype.clear=ct,yt.prototype.delete=ft,yt.prototype.get=dt,yt.prototype.has=pt,yt.prototype.set=vt;var mt=yt;var bt=function(e,t){var r=this.__data__;if(r instanceof Ae){var n=r.__data__;if(!Xe||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new mt(n)}return r.set(e,t),this.size=r.size,this};function gt(e){var t=this.__data__=new Ae(e);this.size=t.size}gt.prototype.clear=Pe,gt.prototype.delete=Ie,gt.prototype.get=Ce,gt.prototype.has=Ne,gt.prototype.set=bt;var kt=gt;var wt=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},_t=function(){try{var e=Ye(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var xt=function(e,t,r){"__proto__"==t&&_t?_t(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},Et=Object.prototype.hasOwnProperty;var Tt=function(e,t,r){var n=e[t];Et.call(e,t)&&_e(n,r)&&(void 0!==r||t in e)||xt(e,t,r)};var St=function(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=n?n(r[s],e[s],s,r,e):void 0;void 0===u&&(u=e[s]),i?xt(r,s,u):Tt(r,s,u)}return r};var jt=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var Ot=function(e){return pe(e)&&"[object Arguments]"==he(e)},Rt=Object.prototype,At=Rt.hasOwnProperty,Pt=Rt.propertyIsEnumerable,It=Ot(function(){return arguments}())?Ot:function(e){return pe(e)&&At.call(e,"callee")&&!Pt.call(e,"callee")},Ct=It,Nt=Array.isArray,Ut=r(1473),Ft=/^(?:0|[1-9]\d*)$/;var Dt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Ft.test(e))&&e>-1&&e%1==0&&e<t};var Lt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Mt={};Mt["[object Float32Array]"]=Mt["[object Float64Array]"]=Mt["[object Int8Array]"]=Mt["[object Int16Array]"]=Mt["[object Int32Array]"]=Mt["[object Uint8Array]"]=Mt["[object Uint8ClampedArray]"]=Mt["[object Uint16Array]"]=Mt["[object Uint32Array]"]=!0,Mt["[object Arguments]"]=Mt["[object Array]"]=Mt["[object ArrayBuffer]"]=Mt["[object Boolean]"]=Mt["[object DataView]"]=Mt["[object Date]"]=Mt["[object Error]"]=Mt["[object Function]"]=Mt["[object Map]"]=Mt["[object Number]"]=Mt["[object Object]"]=Mt["[object RegExp]"]=Mt["[object Set]"]=Mt["[object String]"]=Mt["[object WeakMap]"]=!1;var Bt=function(e){return pe(e)&&Lt(e.length)&&!!Mt[he(e)]};var Gt=function(e){return function(t){return e(t)}},Ht=r(9890),qt=Ht.Z&&Ht.Z.isTypedArray,zt=qt?Gt(qt):Bt,Vt=Object.prototype.hasOwnProperty;var Jt=function(e,t){var r=Nt(e),n=!r&&Ct(e),i=!r&&!n&&(0,Ut.Z)(e),a=!r&&!n&&!i&&zt(e),o=r||n||i||a,s=o?jt(e.length,String):[],u=s.length;for(var c in e)!t&&!Vt.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Dt(c,u))||s.push(c);return s},Zt=Object.prototype;var $t=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Zt)},Kt=fe(Object.keys,Object),Wt=Object.prototype.hasOwnProperty;var Yt=function(e){if(!$t(e))return Kt(e);var t=[];for(var r in Object(e))Wt.call(e,r)&&"constructor"!=r&&t.push(r);return t};var Xt=function(e){return null!=e&&Lt(e.length)&&!De(e)};var Qt=function(e){return Xt(e)?Jt(e):Yt(e)};var er=function(e,t){return e&&St(t,Qt(t),e)};var tr=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},rr=Object.prototype.hasOwnProperty;var nr=function(e){if(!Ue(e))return tr(e);var t=$t(e),r=[];for(var n in e)("constructor"!=n||!t&&rr.call(e,n))&&r.push(n);return r};var ir=function(e){return Xt(e)?Jt(e,!0):nr(e)};var ar=function(e,t){return e&&St(t,ir(t),e)},or=r(3015);var sr=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};var ur=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a};var cr=function(){return[]},lr=Object.prototype.propertyIsEnumerable,hr=Object.getOwnPropertySymbols,fr=hr?function(e){return null==e?[]:(e=Object(e),ur(hr(e),(function(t){return lr.call(e,t)})))}:cr;var dr=function(e,t){return St(e,fr(e),t)};var pr=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},vr=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)pr(t,fr(e)),e=de(e);return t}:cr;var yr=function(e,t){return St(e,vr(e),t)};var mr=function(e,t,r){var n=t(e);return Nt(e)?n:pr(n,r(e))};var br=function(e){return mr(e,Qt,fr)};var gr=function(e){return mr(e,ir,vr)},kr=Ye(te.Z,"DataView"),wr=Ye(te.Z,"Promise"),_r=Ye(te.Z,"Set"),xr=Ye(te.Z,"WeakMap"),Er="[object Map]",Tr="[object Promise]",Sr="[object Set]",jr="[object WeakMap]",Or="[object DataView]",Rr=He(kr),Ar=He(Xe),Pr=He(wr),Ir=He(_r),Cr=He(xr),Nr=he;(kr&&Nr(new kr(new ArrayBuffer(1)))!=Or||Xe&&Nr(new Xe)!=Er||wr&&Nr(wr.resolve())!=Tr||_r&&Nr(new _r)!=Sr||xr&&Nr(new xr)!=jr)&&(Nr=function(e){var t=he(e),r="[object Object]"==t?e.constructor:void 0,n=r?He(r):"";if(n)switch(n){case Rr:return Or;case Ar:return Er;case Pr:return Tr;case Ir:return Sr;case Cr:return jr}return t});var Ur=Nr,Fr=Object.prototype.hasOwnProperty;var Dr=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Fr.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Lr=te.Z.Uint8Array;var Mr=function(e){var t=new e.constructor(e.byteLength);return new Lr(t).set(new Lr(e)),t};var Br=function(e,t){var r=t?Mr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},Gr=/\w*$/;var Hr=function(e){var t=new e.constructor(e.source,Gr.exec(e));return t.lastIndex=e.lastIndex,t},qr=re?re.prototype:void 0,zr=qr?qr.valueOf:void 0;var Vr=function(e){return zr?Object(zr.call(e)):{}};var Jr=function(e,t){var r=t?Mr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var Zr=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return Mr(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Br(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Jr(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Hr(e);case"[object Symbol]":return Vr(e)}},$r=Object.create,Kr=function(){function e(){}return function(t){if(!Ue(t))return{};if($r)return $r(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var Wr=function(e){return"function"!=typeof e.constructor||$t(e)?{}:Kr(de(e))};var Yr=function(e){return pe(e)&&"[object Map]"==Ur(e)},Xr=Ht.Z&&Ht.Z.isMap,Qr=Xr?Gt(Xr):Yr;var en=function(e){return pe(e)&&"[object Set]"==Ur(e)},tn=Ht.Z&&Ht.Z.isSet,rn=tn?Gt(tn):en,nn="[object Arguments]",an="[object Function]",on="[object Object]",sn={};sn[nn]=sn["[object Array]"]=sn["[object ArrayBuffer]"]=sn["[object DataView]"]=sn["[object Boolean]"]=sn["[object Date]"]=sn["[object Float32Array]"]=sn["[object Float64Array]"]=sn["[object Int8Array]"]=sn["[object Int16Array]"]=sn["[object Int32Array]"]=sn["[object Map]"]=sn["[object Number]"]=sn["[object Object]"]=sn["[object RegExp]"]=sn["[object Set]"]=sn["[object String]"]=sn["[object Symbol]"]=sn["[object Uint8Array]"]=sn["[object Uint8ClampedArray]"]=sn["[object Uint16Array]"]=sn["[object Uint32Array]"]=!0,sn["[object Error]"]=sn[an]=sn["[object WeakMap]"]=!1;var un=function e(t,r,n,i,a,o){var s,u=1&r,c=2&r,l=4&r;if(n&&(s=a?n(t,i,a,o):n(t)),void 0!==s)return s;if(!Ue(t))return t;var h=Nt(t);if(h){if(s=Dr(t),!u)return sr(t,s)}else{var f=Ur(t),d=f==an||"[object GeneratorFunction]"==f;if((0,Ut.Z)(t))return(0,or.Z)(t,u);if(f==on||f==nn||d&&!a){if(s=c||d?{}:Wr(t),!u)return c?yr(t,ar(s,t)):dr(t,er(s,t))}else{if(!sn[f])return a?t:{};s=Zr(t,f,u)}}o||(o=new kt);var p=o.get(t);if(p)return p;o.set(t,s),rn(t)?t.forEach((function(i){s.add(e(i,r,n,i,t,o))})):Qr(t)&&t.forEach((function(i,a){s.set(a,e(i,r,n,a,t,o))}));var v=h?void 0:(l?c?gr:br:c?ir:Qt)(t);return wt(v||t,(function(i,a){v&&(i=t[a=i]),Tt(s,a,e(i,r,n,a,t,o))})),s};var cn=function(e){return un(e,4)};var ln=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i};var hn=function(e){return"symbol"==typeof e||pe(e)&&"[object Symbol]"==he(e)};function fn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(fn.Cache||mt),r}fn.Cache=mt;var dn=fn;var pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vn=/\\(\\)?/g,yn=function(e){var t=dn(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(pn,(function(e,r,n,i){t.push(n?i.replace(vn,"$1"):r||e)})),t}));var mn=function(e){if("string"==typeof e||hn(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},bn=re?re.prototype:void 0,gn=bn?bn.toString:void 0;var kn=function e(t){if("string"==typeof t)return t;if(Nt(t))return ln(t,e)+"";if(hn(t))return gn?gn.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var wn=function(e){return null==e?"":kn(e)};var _n=function(e){return Nt(e)?ln(e,mn):hn(e)?[e]:sr(yn(wn(e)))};var xn=function(e,t){};r(5706);var En=function(e){return un(e,5)};function Tn(){return Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tn.apply(this,arguments)}function Sn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function jn(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Rn=function(e){return Array.isArray(e)&&0===e.length},An=function(e){return"function"==typeof e},Pn=function(e){return null!==e&&"object"==typeof e},In=function(e){return String(Math.floor(Number(e)))===e},Cn=function(e){return"[object String]"===Object.prototype.toString.call(e)},Nn=function(e){return 0===i.Children.count(e)},Un=function(e){return Pn(e)&&An(e.then)};function Fn(e,t,r,n){void 0===n&&(n=0);for(var i=_n(t);e&&n<i.length;)e=e[i[n++]];return void 0===e?r:e}function Dn(e,t,r){for(var n=cn(e),i=n,a=0,o=_n(t);a<o.length-1;a++){var s=o[a],u=Fn(e,o.slice(0,a+1));if(u&&(Pn(u)||Array.isArray(u)))i=i[s]=cn(u);else{var c=o[a+1];i=i[s]=In(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===r?e:(void 0===r?delete i[o[a]]:i[o[a]]=r,0===a&&void 0===r&&delete n[o[a]],n)}function Ln(e,t,r,n){void 0===r&&(r=new WeakMap),void 0===n&&(n={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];Pn(s)?r.get(s)||(r.set(s,!0),n[o]=Array.isArray(s)?[]:{},Ln(s,t,r,n[o])):n[o]=t}return n}var Mn=(0,i.createContext)(void 0);Mn.displayName="FormikContext";var Bn=Mn.Provider;Mn.Consumer;function Gn(){var e=(0,i.useContext)(Mn);return e||xn(!1),e}function Hn(e,t){switch(t.type){case"SET_VALUES":return Tn({},e,{values:t.payload});case"SET_TOUCHED":return Tn({},e,{touched:t.payload});case"SET_ERRORS":return $()(e.errors,t.payload)?e:Tn({},e,{errors:t.payload});case"SET_STATUS":return Tn({},e,{status:t.payload});case"SET_ISSUBMITTING":return Tn({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Tn({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Tn({},e,{values:Dn(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Tn({},e,{touched:Dn(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Tn({},e,{errors:Dn(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Tn({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Tn({},e,{touched:Ln(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Tn({},e,{isSubmitting:!1});default:return e}}var qn={},zn={};function Vn(e){var t=e.validateOnChange,r=void 0===t||t,n=e.validateOnBlur,a=void 0===n||n,o=e.validateOnMount,s=void 0!==o&&o,u=e.isInitialValid,c=e.enableReinitialize,l=void 0!==c&&c,h=e.onSubmit,f=jn(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=Tn({validateOnChange:r,validateOnBlur:a,validateOnMount:s,onSubmit:h},f),p=(0,i.useRef)(d.initialValues),v=(0,i.useRef)(d.initialErrors||qn),y=(0,i.useRef)(d.initialTouched||zn),m=(0,i.useRef)(d.initialStatus),b=(0,i.useRef)(!1),g=(0,i.useRef)({});(0,i.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var k=(0,i.useReducer)(Hn,{values:d.initialValues,errors:d.initialErrors||qn,touched:d.initialTouched||zn,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),w=k[0],_=k[1],x=(0,i.useCallback)((function(e,t){return new Promise((function(r,n){var i=d.validate(e,t);null==i?r(qn):Un(i)?i.then((function(e){r(e||qn)}),(function(e){n(e)})):r(i)}))}),[d.validate]),E=(0,i.useCallback)((function(e,t){var r=d.validationSchema,n=An(r)?r(t):r,i=t&&n.validateAt?n.validateAt(t,e):function(e,t,r,n){void 0===r&&(r=!1);void 0===n&&(n={});var i=Zn(e);return t[r?"validateSync":"validate"](i,{abortEarly:!1,context:n})}(e,n);return new Promise((function(e,t){i.then((function(){e(qn)}),(function(r){"ValidationError"===r.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return Dn(t,e.path,e.message);var r=e.inner,n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var a;if(n){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var o=a;Fn(t,o.path)||(t=Dn(t,o.path,o.message))}}return t}(r)):t(r)}))}))}),[d.validationSchema]),T=(0,i.useCallback)((function(e,t){return new Promise((function(r){return r(g.current[e].validate(t))}))}),[]),S=(0,i.useCallback)((function(e){var t=Object.keys(g.current).filter((function(e){return An(g.current[e].validate)})),r=t.length>0?t.map((function(t){return T(t,Fn(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(r).then((function(e){return e.reduce((function(e,r,n){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===r||r&&(e=Dn(e,t[n],r)),e}),{})}))}),[T]),j=(0,i.useCallback)((function(e){return Promise.all([S(e),d.validationSchema?E(e):{},d.validate?x(e):{}]).then((function(e){var t=e[0],r=e[1],n=e[2];return ee.all([t,r,n],{arrayMerge:$n})}))}),[d.validate,d.validationSchema,S,x,E]),O=Wn((function(e){return void 0===e&&(e=w.values),_({type:"SET_ISVALIDATING",payload:!0}),j(e).then((function(e){return b.current&&(_({type:"SET_ISVALIDATING",payload:!1}),_({type:"SET_ERRORS",payload:e})),e}))}));(0,i.useEffect)((function(){s&&!0===b.current&&$()(p.current,d.initialValues)&&O(p.current)}),[s,O]);var R=(0,i.useCallback)((function(e){var t=e&&e.values?e.values:p.current,r=e&&e.errors?e.errors:v.current?v.current:d.initialErrors||{},n=e&&e.touched?e.touched:y.current?y.current:d.initialTouched||{},i=e&&e.status?e.status:m.current?m.current:d.initialStatus;p.current=t,v.current=r,y.current=n,m.current=i;var a=function(){_({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:r,touched:n,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"==typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(w.values,K);Un(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,i.useEffect)((function(){!0!==b.current||$()(p.current,d.initialValues)||(l&&(p.current=d.initialValues,R()),s&&O(p.current))}),[l,d.initialValues,R,s,O]),(0,i.useEffect)((function(){l&&!0===b.current&&!$()(v.current,d.initialErrors)&&(v.current=d.initialErrors||qn,_({type:"SET_ERRORS",payload:d.initialErrors||qn}))}),[l,d.initialErrors]),(0,i.useEffect)((function(){l&&!0===b.current&&!$()(y.current,d.initialTouched)&&(y.current=d.initialTouched||zn,_({type:"SET_TOUCHED",payload:d.initialTouched||zn}))}),[l,d.initialTouched]),(0,i.useEffect)((function(){l&&!0===b.current&&!$()(m.current,d.initialStatus)&&(m.current=d.initialStatus,_({type:"SET_STATUS",payload:d.initialStatus}))}),[l,d.initialStatus,d.initialTouched]);var A=Wn((function(e){if(g.current[e]&&An(g.current[e].validate)){var t=Fn(w.values,e),r=g.current[e].validate(t);return Un(r)?(_({type:"SET_ISVALIDATING",payload:!0}),r.then((function(e){return e})).then((function(t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),_({type:"SET_ISVALIDATING",payload:!1})}))):(_({type:"SET_FIELD_ERROR",payload:{field:e,value:r}}),Promise.resolve(r))}return d.validationSchema?(_({type:"SET_ISVALIDATING",payload:!0}),E(w.values,e).then((function(e){return e})).then((function(t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),_({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),P=(0,i.useCallback)((function(e,t){var r=t.validate;g.current[e]={validate:r}}),[]),I=(0,i.useCallback)((function(e){delete g.current[e]}),[]),C=Wn((function(e,t){return _({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?O(w.values):Promise.resolve()})),N=(0,i.useCallback)((function(e){_({type:"SET_ERRORS",payload:e})}),[]),U=Wn((function(e,t){var n=An(e)?e(w.values):e;return _({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?O(n):Promise.resolve()})),F=(0,i.useCallback)((function(e,t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),D=Wn((function(e,t,n){return _({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?O(Dn(w.values,e,t)):Promise.resolve()})),L=(0,i.useCallback)((function(e,t){var r,n=t,i=e;if(!Cn(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,u=a.id,c=a.value,l=a.checked,h=(a.outerHTML,a.options),f=a.multiple;n=t||(s||u),i=/number|range/.test(o)?(r=parseFloat(c),isNaN(r)?"":r):/checkbox/.test(o)?function(e,t,r){if("boolean"==typeof e)return Boolean(t);var n=[],i=!1,a=-1;if(Array.isArray(e))n=e,i=(a=e.indexOf(r))>=0;else if(!r||"true"==r||"false"==r)return Boolean(t);if(t&&r&&!i)return n.concat(r);if(!i)return n;return n.slice(0,a).concat(n.slice(a+1))}(Fn(w.values,n),l,c):h&&f?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(h):c}n&&D(n,i)}),[D,w.values]),M=Wn((function(e){if(Cn(e))return function(t){return L(t,e)};L(e)})),B=Wn((function(e,t,r){return void 0===t&&(t=!0),_({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===r?a:r)?O(w.values):Promise.resolve()})),G=(0,i.useCallback)((function(e,t){e.persist&&e.persist();var r=e.target,n=r.name,i=r.id,a=(r.outerHTML,t||(n||i));B(a,!0)}),[B]),H=Wn((function(e){if(Cn(e))return function(t){return G(t,e)};G(e)})),q=(0,i.useCallback)((function(e){An(e)?_({type:"SET_FORMIK_STATE",payload:e}):_({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),z=(0,i.useCallback)((function(e){_({type:"SET_STATUS",payload:e})}),[]),V=(0,i.useCallback)((function(e){_({type:"SET_ISSUBMITTING",payload:e})}),[]),J=Wn((function(){return _({type:"SUBMIT_ATTEMPT"}),O().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var r;try{if(void 0===(r=W()))return}catch(n){throw n}return Promise.resolve(r).then((function(e){return b.current&&_({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(b.current)throw _({type:"SUBMIT_FAILURE"}),e}))}if(b.current&&(_({type:"SUBMIT_FAILURE"}),t))throw e}))})),Z=Wn((function(e){e&&e.preventDefault&&An(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&An(e.stopPropagation)&&e.stopPropagation(),J().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),K={resetForm:R,validateForm:O,validateField:A,setErrors:N,setFieldError:F,setFieldTouched:B,setFieldValue:D,setStatus:z,setSubmitting:V,setTouched:C,setValues:U,setFormikState:q,submitForm:J},W=Wn((function(){return h(w.values,K)})),Y=Wn((function(e){e&&e.preventDefault&&An(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&An(e.stopPropagation)&&e.stopPropagation(),R()})),X=(0,i.useCallback)((function(e){return{value:Fn(w.values,e),error:Fn(w.errors,e),touched:!!Fn(w.touched,e),initialValue:Fn(p.current,e),initialTouched:!!Fn(y.current,e),initialError:Fn(v.current,e)}}),[w.errors,w.touched,w.values]),Q=(0,i.useCallback)((function(e){return{setValue:function(t,r){return D(e,t,r)},setTouched:function(t,r){return B(e,t,r)},setError:function(t){return F(e,t)}}}),[D,B,F]),te=(0,i.useCallback)((function(e){var t=Pn(e),r=t?e.name:e,n=Fn(w.values,r),i={name:r,value:n,onChange:M,onBlur:H};if(t){var a=e.type,o=e.value,s=e.as,u=e.multiple;"checkbox"===a?void 0===o?i.checked=!!n:(i.checked=!(!Array.isArray(n)||!~n.indexOf(o)),i.value=o):"radio"===a?(i.checked=n===o,i.value=o):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i}),[H,M,w.values]),re=(0,i.useMemo)((function(){return!$()(p.current,w.values)}),[p.current,w.values]),ne=(0,i.useMemo)((function(){return void 0!==u?re?w.errors&&0===Object.keys(w.errors).length:!1!==u&&An(u)?u(d):u:w.errors&&0===Object.keys(w.errors).length}),[u,re,w.errors,d]);return Tn({},w,{initialValues:p.current,initialErrors:v.current,initialTouched:y.current,initialStatus:m.current,handleBlur:H,handleChange:M,handleReset:Y,handleSubmit:Z,resetForm:R,setErrors:N,setFormikState:q,setFieldTouched:B,setFieldValue:D,setFieldError:F,setStatus:z,setSubmitting:V,setTouched:C,setValues:U,submitForm:J,validateForm:O,validateField:A,isValid:ne,dirty:re,unregisterField:I,registerField:P,getFieldProps:te,getFieldMeta:X,getFieldHelpers:Q,validateOnBlur:a,validateOnChange:r,validateOnMount:s})}function Jn(e){var t=Vn(e),r=e.component,n=e.children,a=e.render,o=e.innerRef;return(0,i.useImperativeHandle)(o,(function(){return t})),(0,i.createElement)(Bn,{value:t},r?(0,i.createElement)(r,t):a?a(t):n?An(n)?n(t):Nn(n)?null:i.Children.only(n):null)}function Zn(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=String(r);!0===Array.isArray(e[n])?t[n]=e[n].map((function(e){return!0===Array.isArray(e)||ke(e)?Zn(e):""!==e?e:void 0})):ke(e[n])?t[n]=Zn(e[n]):t[n]=""!==e[n]?e[n]:void 0}return t}function $n(e,t,r){var n=e.slice();return t.forEach((function(t,i){if(void 0===n[i]){var a=!1!==r.clone&&r.isMergeableObject(t);n[i]=a?ee(Array.isArray(t)?[]:{},t,r):t}else r.isMergeableObject(t)?n[i]=ee(e[i],t,r):-1===e.indexOf(t)&&n.push(t)})),n}var Kn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function Wn(e){var t=(0,i.useRef)(e);return Kn((function(){t.current=e})),(0,i.useCallback)((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current.apply(void 0,r)}),[])}function Yn(e){var t=e.validate,r=e.name,n=e.render,a=e.children,o=e.as,s=e.component,u=jn(e,["validate","name","render","children","as","component"]),c=jn(Gn(),["validate","validationSchema"]);var l=c.registerField,h=c.unregisterField;(0,i.useEffect)((function(){return l(r,{validate:t}),function(){h(r)}}),[l,h,r,t]);var f=c.getFieldProps(Tn({name:r},u)),d=c.getFieldMeta(r),p={field:f,form:c};if(n)return n(Tn({},p,{meta:d}));if(An(a))return a(Tn({},p,{meta:d}));if(s){if("string"==typeof s){var v=u.innerRef,y=jn(u,["innerRef"]);return(0,i.createElement)(s,Tn({ref:v},f,y),a)}return(0,i.createElement)(s,Tn({field:f,form:c},u),a)}var m=o||"input";if("string"==typeof m){var b=u.innerRef,g=jn(u,["innerRef"]);return(0,i.createElement)(m,Tn({ref:b},f,g),a)}return(0,i.createElement)(m,Tn({},f,u),a)}var Xn=(0,i.forwardRef)((function(e,t){var r=e.action,n=jn(e,["action"]),a=null!=r?r:"#",o=Gn(),s=o.handleReset,u=o.handleSubmit;return(0,i.createElement)("form",Object.assign({onSubmit:u,ref:t,onReset:s,action:a},n))}));Xn.displayName="Form";var Qn=function(e,t,r){var n=ei(e);return n.splice(t,0,r),n},ei=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Tn({},e,{length:t+1}))}return[]},ti=function(e){function t(t){var r;return(r=e.call(this,t)||this).updateArrayField=function(e,t,n){var i=r.props,a=i.name;(0,i.formik.setFormikState)((function(r){var i="function"==typeof n?n:e,o="function"==typeof t?t:e,s=Dn(r.values,a,e(Fn(r.values,a))),u=n?i(Fn(r.errors,a)):void 0,c=t?o(Fn(r.touched,a)):void 0;return Rn(u)&&(u=void 0),Rn(c)&&(c=void 0),Tn({},r,{values:s,errors:n?Dn(r.errors,a,u):r.errors,touched:t?Dn(r.touched,a,c):r.touched})}))},r.push=function(e){return r.updateArrayField((function(t){return[].concat(ei(t),[En(e)])}),!1,!1)},r.handlePush=function(e){return function(){return r.push(e)}},r.swap=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=ei(e),i=n[t];return n[t]=n[r],n[r]=i,n}(r,e,t)}),!0,!0)},r.handleSwap=function(e,t){return function(){return r.swap(e,t)}},r.move=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=ei(e),i=n[t];return n.splice(t,1),n.splice(r,0,i),n}(r,e,t)}),!0,!0)},r.handleMove=function(e,t){return function(){return r.move(e,t)}},r.insert=function(e,t){return r.updateArrayField((function(r){return Qn(r,e,t)}),(function(t){return Qn(t,e,null)}),(function(t){return Qn(t,e,null)}))},r.handleInsert=function(e,t){return function(){return r.insert(e,t)}},r.replace=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=ei(e);return n[t]=r,n}(r,e,t)}),!1,!1)},r.handleReplace=function(e,t){return function(){return r.replace(e,t)}},r.unshift=function(e){var t=-1;return r.updateArrayField((function(r){var n=r?[e].concat(r):[e];return t<0&&(t=n.length),n}),(function(e){var r=e?[null].concat(e):[null];return t<0&&(t=r.length),r}),(function(e){var r=e?[null].concat(e):[null];return t<0&&(t=r.length),r})),t},r.handleUnshift=function(e){return function(){return r.unshift(e)}},r.handleRemove=function(e){return function(){return r.remove(e)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(On(r)),r.pop=r.pop.bind(On(r)),r}Sn(t,e);var r=t.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!$()(Fn(e.formik.values,e.name),Fn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(r){var n=r?ei(r):[];return t||(t=n[e]),An(n.splice)&&n.splice(e,1),n}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var r=t;return e||(e=r&&r.pop&&r.pop()),r}),!0,!0),e},r.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,r=t.component,n=t.render,a=t.children,o=t.name,s=Tn({},e,{form:jn(t.formik,["validate","validationSchema"]),name:o});return r?(0,i.createElement)(r,s):n?n(s):a?"function"==typeof a?a(s):Nn(a)?null:i.Children.only(a):null},t}(i.Component);ti.defaultProps={validateOnChange:!0};i.Component,i.Component;function ri(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function ni(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){ri(a,n,i,o,s,"next",e)}function s(e){ri(a,n,i,o,s,"throw",e)}o(void 0)}))}}var ii=r(7757),ai=r.n(ii);function oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function si(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ui(e,t,r){return t&&si(e.prototype,t),r&&si(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ci={"X-Client-Info":"supabase-js/".concat("1.29.4")};var li=r(9611);function hi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,li.Z)(e,t)}function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}function di(e,t){if(t&&("object"===fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pi(e){return pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pi(e)}var vi=r(4944),yi=r.n(vi),mi=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},bi=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},gi=function(e,t){if("function"!=typeof e.json)return t(e);e.json().then((function(r){return t({message:bi(r),status:(null==e?void 0:e.status)||500})}))},ki=function(e,t,r){var n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e||(n.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(r)),n};function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yi(),t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return mi(this,void 0,void 0,ai().mark((function a(){return ai().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise((function(a,o){e(r,ki(t,n,i)).then((function(e){if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?a:e.json()})).then((function(e){return a(e)})).catch((function(e){return gi(e,o)}))})));case 1:case"end":return a.stop()}}),a)})))}function _i(e,t,r){return mi(this,void 0,void 0,ai().mark((function n(){return ai().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",wi(e,"GET",t,r));case 1:case"end":return n.stop()}}),n)})))}function xi(e,t,r,n){return mi(this,void 0,void 0,ai().mark((function i(){return ai().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",wi(e,"POST",t,n,r));case 1:case"end":return i.stop()}}),i)})))}function Ei(e,t,r,n){return mi(this,void 0,void 0,ai().mark((function i(){return ai().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",wi(e,"PUT",t,n,r));case 1:case"end":return i.stop()}}),i)})))}function Ti(e,t,r,n){return mi(this,void 0,void 0,ai().mark((function i(){return ai().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",wi(e,"DELETE",t,n,r));case 1:case"end":return i.stop()}}),i)})))}var Si={"X-Client-Info":"gotrue-js/".concat("1.22.0")},ji="supabase.auth.token",Oi={name:"sb:token",lifetime:28800,domain:"",path:"/",sameSite:"lax"};function Ri(e,t){var r,n,i;return function(e,t,r){var n=r||{},i=encodeURIComponent,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!a.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(null!=n.maxAge){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(u)}if(n.domain){if(!a.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!a.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}(e.name,e.value,{maxAge:e.maxAge,expires:new Date(Date.now()+1e3*e.maxAge),httpOnly:!0,secure:t,path:null!==(r=e.path)&&void 0!==r?r:"/",domain:null!==(n=e.domain)&&void 0!==n?n:"",sameSite:null!==(i=e.sameSite)&&void 0!==i?i:"lax"})}function Ai(e,t,r){var n=r.map((function(t){return Ri(t,function(e){if(!e||!e.headers||!e.headers.host)throw new Error('The "host" request header is not available');var t=e.headers.host.indexOf(":")>-1&&e.headers.host.split(":")[0]||e.headers.host;return!(["localhost","127.0.0.1"].indexOf(t)>-1||t.endsWith(".local"))}(e))})),i=t.getHeader("Set-Cookie");i&&(i instanceof Array?Array.prototype.push.apply(n,i):"string"==typeof i&&n.push(i)),t.setHeader("Set-Cookie",n)}function Pi(e,t,r){Ai(e,t,[r])}function Ii(e){return Math.round(Date.now()/1e3)+e}var Ci=function(){return"undefined"!=typeof window};function Ni(e,t){var r;t||(t=(null===(r=null===window||void 0===window?void 0:window.location)||void 0===r?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var Ui=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Fi=function(){function e(t){var r=t.url,n=void 0===r?"":r,i=t.headers,a=void 0===i?{}:i,o=t.cookieOptions,s=t.fetch;oi(this,e),this.url=n,this.headers=a,this.cookieOptions=Object.assign(Object.assign({},Oi),o),this.fetch=s}return ui(e,[{key:"_createRequestHeaders",value:function(e){var t=Object.assign({},this.headers);return t.Authorization="Bearer ".concat(e),t}},{key:"cookieName",value:function(){var e;return null!==(e=this.cookieOptions.name)&&void 0!==e?e:""}},{key:"getUrlForProvider",value:function(e,t){var r=["provider=".concat(encodeURIComponent(e))];return(null==t?void 0:t.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(t.redirectTo))),(null==t?void 0:t.scopes)&&r.push("scopes=".concat(encodeURIComponent(t.scopes))),"".concat(this.url,"/authorize?").concat(r.join("&"))}},{key:"signUpWithEmail",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ui(this,void 0,void 0,ai().mark((function n(){var i,a,o,s;return ai().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=Object.assign({},this.headers),a="",r.redirectTo&&(a="?redirect_to="+encodeURIComponent(r.redirectTo)),n.next=6,xi(this.fetch,"".concat(this.url,"/signup").concat(a),{email:e,password:t,data:r.data,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:i});case 6:return o=n.sent,(s=Object.assign({},o)).expires_in&&(s.expires_at=Ii(o.expires_in)),n.abrupt("return",{data:s,error:null});case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 15:case"end":return n.stop()}}),n,this,[[0,12]])})))}},{key:"signInWithEmail",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ui(this,void 0,void 0,ai().mark((function n(){var i,a,o,s;return ai().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=Object.assign({},this.headers),a="?grant_type=password",r.redirectTo&&(a+="&redirect_to="+encodeURIComponent(r.redirectTo)),n.next=6,xi(this.fetch,"".concat(this.url,"/token").concat(a),{email:e,password:t},{headers:i});case 6:return o=n.sent,(s=Object.assign({},o)).expires_in&&(s.expires_at=Ii(o.expires_in)),n.abrupt("return",{data:s,error:null});case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 15:case"end":return n.stop()}}),n,this,[[0,12]])})))}},{key:"signUpWithPhone",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ui(this,void 0,void 0,ai().mark((function n(){var i,a,o;return ai().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=Object.assign({},this.headers),n.next=4,xi(this.fetch,"".concat(this.url,"/signup"),{phone:e,password:t,data:r.data,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:i});case 4:return a=n.sent,(o=Object.assign({},a)).expires_in&&(o.expires_at=Ii(a.expires_in)),n.abrupt("return",{data:o,error:null});case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 13:case"end":return n.stop()}}),n,this,[[0,10]])})))}},{key:"signInWithPhone",value:function(e,t){return Ui(this,void 0,void 0,ai().mark((function r(){var n,i,a;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Object.assign({},this.headers),"?grant_type=password",r.next=5,xi(this.fetch,"".concat(this.url,"/token").concat("?grant_type=password"),{phone:e,password:t},{headers:n});case 5:return i=r.sent,(a=Object.assign({},i)).expires_in&&(a.expires_at=Ii(i.expires_in)),r.abrupt("return",{data:a,error:null});case 11:return r.prev=11,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 14:case"end":return r.stop()}}),r,this,[[0,11]])})))}},{key:"sendMagicLinkEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ui(this,void 0,void 0,ai().mark((function r(){var n,i,a;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Object.assign({},this.headers),i="",t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),r.next=6,xi(this.fetch,"".concat(this.url,"/magiclink").concat(i),{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:n});case 6:return a=r.sent,r.abrupt("return",{data:a,error:null});case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 13:case"end":return r.stop()}}),r,this,[[0,10]])})))}},{key:"sendMobileOTP",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ui(this,void 0,void 0,ai().mark((function r(){var n,i;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Object.assign({},this.headers),r.next=4,xi(this.fetch,"".concat(this.url,"/otp"),{phone:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:n});case 4:return i=r.sent,r.abrupt("return",{data:i,error:null});case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 11:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"signOut",value:function(e){return Ui(this,void 0,void 0,ai().mark((function t(){return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xi(this.fetch,"".concat(this.url,"/logout"),{},{headers:this._createRequestHeaders(e),noResolveJson:!0});case 3:return t.abrupt("return",{error:null});case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",{error:t.t0});case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"verifyMobileOTP",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ui(this,void 0,void 0,ai().mark((function n(){var i,a;return ai().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=Object.assign({},this.headers),n.next=4,xi(this.fetch,"".concat(this.url,"/verify"),{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:i});case 4:return a=n.sent,n.abrupt("return",{data:a,error:null});case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 11:case"end":return n.stop()}}),n,this,[[0,8]])})))}},{key:"inviteUserByEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ui(this,void 0,void 0,ai().mark((function r(){var n,i,a;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Object.assign({},this.headers),i="",t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),r.next=6,xi(this.fetch,"".concat(this.url,"/invite").concat(i),{email:e,data:t.data},{headers:n});case 6:return a=r.sent,r.abrupt("return",{data:a,error:null});case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 13:case"end":return r.stop()}}),r,this,[[0,10]])})))}},{key:"resetPasswordForEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ui(this,void 0,void 0,ai().mark((function r(){var n,i,a;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Object.assign({},this.headers),i="",t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo)),r.next=6,xi(this.fetch,"".concat(this.url,"/recover").concat(i),{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:n});case 6:return a=r.sent,r.abrupt("return",{data:a,error:null});case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 13:case"end":return r.stop()}}),r,this,[[0,10]])})))}},{key:"refreshAccessToken",value:function(e){return Ui(this,void 0,void 0,ai().mark((function t(){var r,n;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xi(this.fetch,"".concat(this.url,"/token?grant_type=refresh_token"),{refresh_token:e},{headers:this.headers});case 3:return r=t.sent,(n=Object.assign({},r)).expires_in&&(n.expires_at=Ii(r.expires_in)),t.abrupt("return",{data:n,error:null});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"setAuthCookie",value:function(e,t){var r;"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));var n=e.body,i=n.event,a=n.session;if(!i)throw new Error("Auth event missing!");if("SIGNED_IN"===i){if(!a)throw new Error("Auth session missing!");Pi(e,t,{name:this.cookieName(),value:a.access_token,domain:this.cookieOptions.domain,maxAge:null!==(r=this.cookieOptions.lifetime)&&void 0!==r?r:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}"SIGNED_OUT"===i&&function(e,t,r){Pi(e,t,{name:r,value:"",maxAge:-1})}(e,t,this.cookieName()),t.status(200).json({})}},{key:"generateLink",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ui(this,void 0,void 0,ai().mark((function n(){var i;return ai().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,xi(this.fetch,"".concat(this.url,"/admin/generate_link"),{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers});case 3:return i=n.sent,n.abrupt("return",{data:i,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"createUser",value:function(e){return Ui(this,void 0,void 0,ai().mark((function t(){var r;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xi(this.fetch,"".concat(this.url,"/admin/users"),e,{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{user:r,data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{user:null,data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"listUsers",value:function(){return Ui(this,void 0,void 0,ai().mark((function e(){var t;return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_i(this.fetch,"".concat(this.url,"/admin/users"),{headers:this.headers});case 3:return t=e.sent,e.abrupt("return",{data:t.users,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getUserById",value:function(e){return Ui(this,void 0,void 0,ai().mark((function t(){var r;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_i(this.fetch,"".concat(this.url,"/admin/users/").concat(e),{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"getUserByCookie",value:function(e){return Ui(this,void 0,void 0,ai().mark((function t(){var r,n,i,a;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.cookies){t.next=3;break}throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");case 3:if(r=e.cookies[this.cookieName()]){t.next=6;break}throw new Error("No cookie found!");case 6:return t.next=8,this.getUser(r);case 8:if(n=t.sent,i=n.user,!(a=n.error)){t.next=13;break}throw a;case 13:return t.abrupt("return",{token:r,user:i,data:i,error:null});case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",{token:null,user:null,data:null,error:t.t0});case 19:case"end":return t.stop()}}),t,this,[[0,16]])})))}},{key:"updateUserById",value:function(e,t){return Ui(this,void 0,void 0,ai().mark((function r(){var n;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,Ei(this.fetch,"".concat(this.url,"/admin/users/").concat(e),t,{headers:this.headers});case 4:return n=r.sent,r.abrupt("return",{user:n,data:n,error:null});case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",{user:null,data:null,error:r.t0});case 11:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"deleteUser",value:function(e){return Ui(this,void 0,void 0,ai().mark((function t(){var r;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ti(this.fetch,"".concat(this.url,"/admin/users/").concat(e),{},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{user:r,data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{user:null,data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"getUser",value:function(e){return Ui(this,void 0,void 0,ai().mark((function t(){var r;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_i(this.fetch,"".concat(this.url,"/user"),{headers:this._createRequestHeaders(e)});case 3:return r=t.sent,t.abrupt("return",{user:r,data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{user:null,data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"updateUser",value:function(e,t){return Ui(this,void 0,void 0,ai().mark((function r(){var n;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ei(this.fetch,"".concat(this.url,"/user"),t,{headers:this._createRequestHeaders(e)});case 3:return n=r.sent,r.abrupt("return",{user:n,data:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{user:null,data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}}]),e}();r(5743);var Di=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();var Li={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:Si},Mi=function(){function e(t){oi(this,e),this.stateChangeEmitters=new Map;var r=Object.assign(Object.assign({},Li),t);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.multiTab=r.multiTab,this.localStorage=r.localStorage||globalThis.localStorage,this.api=new Fi({url:r.url,headers:r.headers,cookieOptions:r.cookieOptions,fetch:r.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),r.detectSessionInUrl&&Ci()&&Ni("access_token")&&this.getSessionFromUrl({storeSession:!0}).then((function(e){var t=e.error;t&&console.error("Error getting session from URL.",t)}))}return ui(e,[{key:"signUp",value:function(e){var t=e.email,r=e.password,n=e.phone,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Di(this,void 0,void 0,ai().mark((function e(){var a,o,s,u,c;return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._removeSession(),!n||!r){e.next=8;break}return e.next=5,this.api.signUpWithPhone(n,r,{data:i.data,captchaToken:i.captchaToken});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.api.signUpWithEmail(t,r,{redirectTo:i.redirectTo,data:i.data,captchaToken:i.captchaToken});case 10:e.t0=e.sent;case 11:if(a=e.t0,o=a.data,!(s=a.error)){e.next=16;break}throw s;case 16:if(o){e.next=18;break}throw"An error occurred on sign up.";case 18:return u=null,c=null,o.access_token&&(c=(u=o).user,this._saveSession(u),this._notifyAllSubscribers("SIGNED_IN")),o.id&&(c=o),e.abrupt("return",{user:c,session:u,error:null});case 25:return e.prev=25,e.t1=e.catch(0),e.abrupt("return",{user:null,session:null,error:e.t1});case 28:case"end":return e.stop()}}),e,this,[[0,25]])})))}},{key:"signIn",value:function(e){var t=e.email,r=e.phone,n=e.password,i=e.refreshToken,a=e.provider,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Di(this,void 0,void 0,ai().mark((function e(){var s,u,c,l,h,f;return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._removeSession(),!t||n){e.next=8;break}return e.next=5,this.api.sendMagicLinkEmail(t,{redirectTo:o.redirectTo,captchaToken:o.captchaToken});case 5:return s=e.sent,u=s.error,e.abrupt("return",{user:null,session:null,error:u});case 8:if(!t||!n){e.next=10;break}return e.abrupt("return",this._handleEmailSignIn(t,n,{redirectTo:o.redirectTo}));case 10:if(!r||n){e.next=16;break}return e.next=13,this.api.sendMobileOTP(r,{captchaToken:o.captchaToken});case 13:return c=e.sent,l=c.error,e.abrupt("return",{user:null,session:null,error:l});case 16:if(!r||!n){e.next=18;break}return e.abrupt("return",this._handlePhoneSignIn(r,n));case 18:if(!i){e.next=26;break}return e.next=21,this._callRefreshToken(i);case 21:if(h=e.sent,!(f=h.error)){e.next=25;break}throw f;case 25:return e.abrupt("return",{user:this.currentUser,session:this.currentSession,error:null});case 26:if(!a){e.next=28;break}return e.abrupt("return",this._handleProviderSignIn(a,{redirectTo:o.redirectTo,scopes:o.scopes}));case 28:throw new Error("You must provide either an email, phone number or a third-party provider.");case 31:return e.prev=31,e.t0=e.catch(0),e.abrupt("return",{user:null,session:null,error:e.t0});case 34:case"end":return e.stop()}}),e,this,[[0,31]])})))}},{key:"verifyOTP",value:function(e){var t=e.phone,r=e.token,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Di(this,void 0,void 0,ai().mark((function e(){var i,a,o,s,u;return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._removeSession(),e.next=4,this.api.verifyMobileOTP(t,r,n);case 4:if(i=e.sent,a=i.data,!(o=i.error)){e.next=9;break}throw o;case 9:if(a){e.next=11;break}throw"An error occurred on token verification.";case 11:return s=null,u=null,a.access_token&&(u=(s=a).user,this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),a.id&&(u=a),e.abrupt("return",{user:u,session:s,error:null});case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",{user:null,session:null,error:e.t0});case 21:case"end":return e.stop()}}),e,this,[[0,18]])})))}},{key:"user",value:function(){return this.currentUser}},{key:"session",value:function(){return this.currentSession}},{key:"refreshSession",value:function(){var e;return Di(this,void 0,void 0,ai().mark((function t(){var r,n;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null===(e=this.currentSession)||void 0===e?void 0:e.access_token){t.next=3;break}throw new Error("Not logged in.");case 3:return t.next=5,this._callRefreshToken();case 5:if(r=t.sent,!(n=r.error)){t.next=9;break}throw n;case 9:return t.abrupt("return",{data:this.currentSession,user:this.currentUser,error:null});case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{data:null,user:null,error:t.t0});case 15:case"end":return t.stop()}}),t,this,[[0,12]])})))}},{key:"update",value:function(e){var t;return Di(this,void 0,void 0,ai().mark((function r(){var n,i,a,o;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,null===(t=this.currentSession)||void 0===t?void 0:t.access_token){r.next=3;break}throw new Error("Not logged in.");case 3:return r.next=5,this.api.updateUser(this.currentSession.access_token,e);case 5:if(n=r.sent,i=n.user,!(a=n.error)){r.next=10;break}throw a;case 10:if(i){r.next=12;break}throw Error("Invalid user data.");case 12:return o=Object.assign(Object.assign({},this.currentSession),{user:i}),this._saveSession(o),this._notifyAllSubscribers("USER_UPDATED"),r.abrupt("return",{data:i,user:i,error:null});case 18:return r.prev=18,r.t0=r.catch(0),r.abrupt("return",{data:null,user:null,error:r.t0});case 21:case"end":return r.stop()}}),r,this,[[0,18]])})))}},{key:"setSession",value:function(e){return Di(this,void 0,void 0,ai().mark((function t(){var r,n,i;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("No current session.");case 3:return t.next=5,this.api.refreshAccessToken(e);case 5:if(r=t.sent,n=r.data,!(i=r.error)){t.next=10;break}return t.abrupt("return",{session:null,error:i});case 10:return this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"),t.abrupt("return",{session:n,error:null});case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",{error:t.t0,session:null});case 18:case"end":return t.stop()}}),t,this,[[0,15]])})))}},{key:"setAuth",value:function(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}},{key:"getSessionFromUrl",value:function(e){return Di(this,void 0,void 0,ai().mark((function t(){var r,n,i,a,o,s,u,c,l,h,f,d,p;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ci()){t.next=3;break}throw new Error("No browser detected.");case 3:if(!(r=Ni("error_description"))){t.next=6;break}throw new Error(r);case 6:if(n=Ni("provider_token"),i=Ni("access_token")){t.next=10;break}throw new Error("No access_token detected.");case 10:if(a=Ni("expires_in")){t.next=13;break}throw new Error("No expires_in detected.");case 13:if(o=Ni("refresh_token")){t.next=16;break}throw new Error("No refresh_token detected.");case 16:if(s=Ni("token_type")){t.next=19;break}throw new Error("No token_type detected.");case 19:return u=Math.round(Date.now()/1e3),c=u+parseInt(a),t.next=23,this.api.getUser(i);case 23:if(l=t.sent,h=l.user,!(f=l.error)){t.next=28;break}throw f;case 28:return d={provider_token:n,access_token:i,expires_in:parseInt(a),expires_at:c,refresh_token:o,token_type:s,user:h},(null==e?void 0:e.storeSession)&&(this._saveSession(d),p=Ni("type"),this._notifyAllSubscribers("SIGNED_IN"),"recovery"===p&&this._notifyAllSubscribers("PASSWORD_RECOVERY")),window.location.hash="",t.abrupt("return",{data:d,error:null});case 34:return t.prev=34,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 37:case"end":return t.stop()}}),t,this,[[0,34]])})))}},{key:"signOut",value:function(){var e;return Di(this,void 0,void 0,ai().mark((function t(){var r,n,i;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null===(e=this.currentSession)||void 0===e?void 0:e.access_token,this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),!r){t.next=10;break}return t.next=6,this.api.signOut(r);case 6:if(n=t.sent,!(i=n.error)){t.next=10;break}return t.abrupt("return",{error:i});case 10:return t.abrupt("return",{error:null});case 11:case"end":return t.stop()}}),t,this)})))}},{key:"onAuthStateChange",value:function(e){var t=this;try{var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:r,callback:e,unsubscribe:function(){t.stateChangeEmitters.delete(r)}};return this.stateChangeEmitters.set(r,n),{data:n,error:null}}catch(i){return{data:null,error:i}}}},{key:"_handleEmailSignIn",value:function(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Di(this,void 0,void 0,ai().mark((function a(){var o,s,u;return ai().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.api.signInWithEmail(e,t,{redirectTo:i.redirectTo});case 3:if(o=a.sent,s=o.data,!(u=o.error)&&s){a.next=8;break}return a.abrupt("return",{data:null,user:null,session:null,error:u});case 8:return((null===(r=null==s?void 0:s.user)||void 0===r?void 0:r.confirmed_at)||(null===(n=null==s?void 0:s.user)||void 0===n?void 0:n.email_confirmed_at))&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),a.abrupt("return",{data:s,user:s.user,session:s,error:null});case 12:return a.prev=12,a.t0=a.catch(0),a.abrupt("return",{data:null,user:null,session:null,error:a.t0});case 15:case"end":return a.stop()}}),a,this,[[0,12]])})))}},{key:"_handlePhoneSignIn",value:function(e,t){var r;return Di(this,void 0,void 0,ai().mark((function n(){var i,a,o;return ai().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.api.signInWithPhone(e,t);case 3:if(i=n.sent,a=i.data,!(o=i.error)&&a){n.next=8;break}return n.abrupt("return",{data:null,user:null,session:null,error:o});case 8:return(null===(r=null==a?void 0:a.user)||void 0===r?void 0:r.phone_confirmed_at)&&(this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),n.abrupt("return",{data:a,user:a.user,session:a,error:null});case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",{data:null,user:null,session:null,error:n.t0});case 15:case"end":return n.stop()}}),n,this,[[0,12]])})))}},{key:"_handleProviderSignIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return Ci()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(n){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:n}}}},{key:"_recoverSession",value:function(){var e;try{var t=Ci()&&(null===(e=this.localStorage)||void 0===e?void 0:e.getItem(ji));if(!t||"string"!=typeof t)return null;var r=JSON.parse(t),n=r.currentSession;r.expiresAt>=Math.round(Date.now()/1e3)&&(null==n?void 0:n.user)&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"))}catch(i){console.log("error",i)}}},{key:"_recoverAndRefresh",value:function(){return Di(this,void 0,void 0,ai().mark((function e(){var t,r,n,i,a,o,s;return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=Ci(),!e.t0){e.next=6;break}return e.next=5,this.localStorage.getItem(ji);case 5:e.t0=e.sent;case 6:if(t=e.t0){e.next=9;break}return e.abrupt("return",null);case 9:if(r=JSON.parse(t),n=r.currentSession,i=r.expiresAt,a=Math.round(Date.now()/1e3),!(i<a)){e.next=27;break}if(!this.autoRefreshToken||!n.refresh_token){e.next=24;break}return e.next=16,this._callRefreshToken(n.refresh_token);case 16:if(o=e.sent,!(s=o.error)){e.next=22;break}return console.log(s.message),e.next=22,this._removeSession();case 22:e.next=25;break;case 24:this._removeSession();case 25:e.next=28;break;case 27:n&&n.user?(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession());case 28:e.next=34;break;case 30:return e.prev=30,e.t1=e.catch(0),console.error(e.t1),e.abrupt("return",null);case 34:case"end":return e.stop()}}),e,this,[[0,30]])})))}},{key:"_callRefreshToken",value:function(e){var t;return void 0===e&&(e=null===(t=this.currentSession)||void 0===t?void 0:t.refresh_token),Di(this,void 0,void 0,ai().mark((function t(){var r,n,i;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("No current session.");case 3:return t.next=5,this.api.refreshAccessToken(e);case 5:if(r=t.sent,n=r.data,!(i=r.error)){t.next=10;break}throw i;case 10:if(n){t.next=12;break}throw Error("Invalid session data.");case 12:return this._saveSession(n),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),t.abrupt("return",{data:n,error:null});case 18:return t.prev=18,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 21:case"end":return t.stop()}}),t,this,[[0,18]])})))}},{key:"_notifyAllSubscribers",value:function(e){var t=this;this.stateChangeEmitters.forEach((function(r){return r.callback(e,t.currentSession)}))}},{key:"_saveSession",value:function(e){this.currentSession=e,this.currentUser=e.user;var t=e.expires_at;if(t){var r=t-Math.round(Date.now()/1e3),n=r>60?60:.5;this._startAutoRefreshToken(1e3*(r-n))}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}},{key:"_persistSession",value:function(e){var t={currentSession:e,expiresAt:e.expires_at};Ci()&&this.localStorage.setItem(ji,JSON.stringify(t))}},{key:"_removeSession",value:function(){return Di(this,void 0,void 0,ai().mark((function e(){return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e.t0=Ci(),!e.t0){e.next=7;break}return e.next=7,this.localStorage.removeItem(ji);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"_startAutoRefreshToken",value:function(e){var t=this;this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((function(){return t._callRefreshToken()}),e),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}},{key:"_listenForMultiTabEvents",value:function(){var e=this;if(!this.multiTab||!Ci()||!(null===window||void 0===window?void 0:window.addEventListener))return!1;try{null===window||void 0===window||window.addEventListener("storage",(function(t){var r;if(t.key===ji){var n=JSON.parse(String(t.newValue));(null===(r=null==n?void 0:n.currentSession)||void 0===r?void 0:r.access_token)?(e._recoverAndRefresh(),e._notifyAllSubscribers("SIGNED_IN")):(e._removeSession(),e._notifyAllSubscribers("SIGNED_OUT"))}}))}catch(t){console.error("_listenForMultiTabEvents",t)}}}]),e}();function Bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pi(e);if(t){var i=pi(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return di(this,r)}}var Gi=function(e){hi(r,e);var t=Bi(r);function r(e){return oi(this,r),t.call(this,e)}return ui(r)}(Mi),Hi=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},qi=function(){function e(t){oi(this,e),this.shouldThrowOnError=!1,Object.assign(this,t),this.fetch=t.fetch||yi()}return ui(e,[{key:"throwOnError",value:function(){return this.shouldThrowOnError=!0,this}},{key:"then",value:function(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");var n=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((function(e){return Hi(r,void 0,void 0,ai().mark((function t(){var r,n,i,a,o,s,u,c,l,h,f,d;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null,o=null,s=null,!e.ok){t.next=15;break}if(u=null===(r=this.headers.Prefer)||void 0===r?void 0:r.split(",").includes("return=minimal"),"HEAD"===this.method||u){t.next=10;break}return t.next=8,e.text();case 8:(c=t.sent)&&(o="text/csv"===this.headers.Accept?c:JSON.parse(c));case 10:l=null===(n=this.headers.Prefer)||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),h=null===(i=e.headers.get("content-range"))||void 0===i?void 0:i.split("/"),l&&h&&h.length>1&&(s=parseInt(h[1])),t.next=21;break;case 15:return t.next=17,e.text();case 17:f=t.sent;try{a=JSON.parse(f)}catch(p){a={message:f}}if(!a||!this.shouldThrowOnError){t.next=21;break}throw a;case 21:return d={error:a,data:o,count:s,status:e.status,statusText:e.statusText,body:o},t.abrupt("return",d);case 23:case"end":return t.stop()}}),t,this)})))}));return this.shouldThrowOnError||(n=n.catch((function(e){return{error:{message:"FetchError: ".concat(e.message),details:"",hint:"",code:e.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}}))),n.then(e,t)}}]),e}();function zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pi(e);if(t){var i=pi(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return di(this,r)}}var Vi=function(e){hi(r,e);var t=zi(r);function r(){return oi(this,r),t.apply(this,arguments)}return ui(r,[{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",t=!1,r=e.split("").map((function(e){return/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)})).join("");return this.url.searchParams.set("select",r),this}},{key:"order",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ascending,n=void 0===r||r,i=t.nullsFirst,a=void 0!==i&&i,o=t.foreignTable,s=void 0===o?"order":"".concat(o,".order"),u=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(u?"".concat(u,","):"").concat(e,".").concat(n?"asc":"desc",".").concat(a?"nullsfirst":"nullslast")),this}},{key:"limit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.foreignTable,n=void 0===r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}},{key:"range",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.foreignTable,i=void 0===n?"offset":"".concat(n,".offset"),a=void 0===n?"limit":"".concat(n,".limit");return this.url.searchParams.set(i,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}},{key:"abortSignal",value:function(e){return this.signal=e,this}},{key:"single",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this}},{key:"maybeSingle",value:function(){var e=this;this.headers.Accept="application/vnd.pgrst.object+json";var t=new r(this);return t.then=function(t,r){return e.then((function(e){var r,n;return(null===(n=null===(r=e.error)||void 0===r?void 0:r.details)||void 0===n?void 0:n.includes("Results contain 0 rows"))?t({error:null,data:null,count:e.count,status:200,statusText:"OK",body:null}):t(e)}),r)},t}},{key:"csv",value:function(){return this.headers.Accept="text/csv",this}}]),r}(qi);function Ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pi(e);if(t){var i=pi(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return di(this,r)}}var Zi=function(e){hi(r,e);var t=Ji(r);function r(){var e;return oi(this,r),(e=t.apply(this,arguments)).cs=e.contains,e.cd=e.containedBy,e.sl=e.rangeLt,e.sr=e.rangeGt,e.nxl=e.rangeGte,e.nxr=e.rangeLte,e.adj=e.rangeAdjacent,e.ov=e.overlaps,e}return ui(r,[{key:"not",value:function(e,t,r){return this.url.searchParams.append("".concat(e),"not.".concat(t,".").concat(r)),this}},{key:"or",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.foreignTable,n=void 0===r?"or":"".concat(r,".or");return this.url.searchParams.append(n,"(".concat(e,")")),this}},{key:"eq",value:function(e,t){return this.url.searchParams.append("".concat(e),"eq.".concat(t)),this}},{key:"neq",value:function(e,t){return this.url.searchParams.append("".concat(e),"neq.".concat(t)),this}},{key:"gt",value:function(e,t){return this.url.searchParams.append("".concat(e),"gt.".concat(t)),this}},{key:"gte",value:function(e,t){return this.url.searchParams.append("".concat(e),"gte.".concat(t)),this}},{key:"lt",value:function(e,t){return this.url.searchParams.append("".concat(e),"lt.".concat(t)),this}},{key:"lte",value:function(e,t){return this.url.searchParams.append("".concat(e),"lte.".concat(t)),this}},{key:"like",value:function(e,t){return this.url.searchParams.append("".concat(e),"like.".concat(t)),this}},{key:"ilike",value:function(e,t){return this.url.searchParams.append("".concat(e),"ilike.".concat(t)),this}},{key:"is",value:function(e,t){return this.url.searchParams.append("".concat(e),"is.".concat(t)),this}},{key:"in",value:function(e,t){var r=t.map((function(e){return"string"==typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)})).join(",");return this.url.searchParams.append("".concat(e),"in.(".concat(r,")")),this}},{key:"contains",value:function(e,t){return"string"==typeof t?this.url.searchParams.append("".concat(e),"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append("".concat(e),"cs.{".concat(t.join(","),"}")):this.url.searchParams.append("".concat(e),"cs.".concat(JSON.stringify(t))),this}},{key:"containedBy",value:function(e,t){return"string"==typeof t?this.url.searchParams.append("".concat(e),"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append("".concat(e),"cd.{".concat(t.join(","),"}")):this.url.searchParams.append("".concat(e),"cd.".concat(JSON.stringify(t))),this}},{key:"rangeLt",value:function(e,t){return this.url.searchParams.append("".concat(e),"sl.".concat(t)),this}},{key:"rangeGt",value:function(e,t){return this.url.searchParams.append("".concat(e),"sr.".concat(t)),this}},{key:"rangeGte",value:function(e,t){return this.url.searchParams.append("".concat(e),"nxl.".concat(t)),this}},{key:"rangeLte",value:function(e,t){return this.url.searchParams.append("".concat(e),"nxr.".concat(t)),this}},{key:"rangeAdjacent",value:function(e,t){return this.url.searchParams.append("".concat(e),"adj.".concat(t)),this}},{key:"overlaps",value:function(e,t){return"string"==typeof t?this.url.searchParams.append("".concat(e),"ov.".concat(t)):this.url.searchParams.append("".concat(e),"ov.{".concat(t.join(","),"}")),this}},{key:"textSearch",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,i=r.type,a=void 0===i?null:i,o="";"plain"===a?o="pl":"phrase"===a?o="ph":"websearch"===a&&(o="w");var s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append("".concat(e),"".concat(o,"fts").concat(s,".").concat(t)),this}},{key:"fts",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append("".concat(e),"fts".concat(i,".").concat(t)),this}},{key:"plfts",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append("".concat(e),"plfts".concat(i,".").concat(t)),this}},{key:"phfts",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append("".concat(e),"phfts".concat(i,".").concat(t)),this}},{key:"wfts",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append("".concat(e),"wfts".concat(i,".").concat(t)),this}},{key:"filter",value:function(e,t,r){return this.url.searchParams.append("".concat(e),"".concat(t,".").concat(r)),this}},{key:"match",value:function(e){var t=this;return Object.keys(e).forEach((function(r){t.url.searchParams.append("".concat(r),"eq.".concat(e[r]))})),this}}]),r}(Vi);function $i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pi(e);if(t){var i=pi(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return di(this,r)}}var Ki=function(e){hi(r,e);var t=$i(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.headers,o=void 0===a?{}:a,s=i.schema,u=i.fetch;return oi(this,r),(n=t.call(this,{fetch:u})).url=new URL(e),n.headers=Object.assign({},o),n.schema=s,n}return ui(r,[{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.head,n=void 0!==r&&r,i=t.count,a=void 0===i?null:i;this.method="GET";var o=!1,s=e.split("").map((function(e){return/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)})).join("");return this.url.searchParams.set("select",s),a&&(this.headers.Prefer="count=".concat(a)),n&&(this.method="HEAD"),new Zi(this)}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.upsert,i=void 0!==r&&r,a=t.onConflict,o=t.returning,s=void 0===o?"representation":o,u=t.count,c=void 0===u?null:u;this.method="POST";var l=["return=".concat(s)];if(i&&l.push("resolution=merge-duplicates"),i&&void 0!==a&&this.url.searchParams.set("on_conflict",a),this.body=e,c&&l.push("count=".concat(c)),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),Array.isArray(e)){var h=e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]);if(h.length>0){var f=(0,n.Z)(new Set(h)).map((function(e){return'"'.concat(e,'"')}));this.url.searchParams.set("columns",f.join(","))}}return new Zi(this)}},{key:"upsert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onConflict,n=t.returning,i=void 0===n?"representation":n,a=t.count,o=void 0===a?null:a,s=t.ignoreDuplicates,u=void 0!==s&&s;this.method="POST";var c=["resolution=".concat(u?"ignore":"merge","-duplicates"),"return=".concat(i)];return void 0!==r&&this.url.searchParams.set("on_conflict",r),this.body=e,o&&c.push("count=".concat(o)),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new Zi(this)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.returning,n=void 0===r?"representation":r,i=t.count,a=void 0===i?null:i;this.method="PATCH";var o=["return=".concat(n)];return this.body=e,a&&o.push("count=".concat(a)),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new Zi(this)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.returning,r=void 0===t?"representation":t,n=e.count,i=void 0===n?null:n;this.method="DELETE";var a=["return=".concat(r)];return i&&a.push("count=".concat(i)),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new Zi(this)}}]),r}(qi),Wi=r(885);function Yi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pi(e);if(t){var i=pi(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return di(this,r)}}var Xi,Qi=function(e){hi(r,e);var t=Yi(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.headers,o=void 0===a?{}:a,s=i.schema,u=i.fetch;return oi(this,r),(n=t.call(this,{fetch:u})).url=new URL(e),n.headers=Object.assign({},o),n.schema=s,n}return ui(r,[{key:"rpc",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.head,i=void 0!==n&&n,a=r.count,o=void 0===a?null:a;return i?(this.method="HEAD",e&&Object.entries(e).forEach((function(e){var r=(0,Wi.Z)(e,2),n=r[0],i=r[1];t.url.searchParams.append(n,i)}))):(this.method="POST",this.body=e),o&&(void 0!==this.headers.Prefer?this.headers.Prefer+=",count=".concat(o):this.headers.Prefer="count=".concat(o)),new Zi(this)}}]),r}(qi),ea={"X-Client-Info":"postgrest-js/".concat("0.36.0")},ta=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.headers,i=void 0===n?{}:n,a=r.schema,o=r.fetch;oi(this,e),this.url=t,this.headers=Object.assign(Object.assign({},ea),i),this.schema=a,this.fetch=o}return ui(e,[{key:"auth",value:function(e){return this.headers.Authorization="Bearer ".concat(e),this}},{key:"from",value:function(e){var t="".concat(this.url,"/").concat(e);return new Ki(t,{headers:this.headers,schema:this.schema,fetch:this.fetch})}},{key:"rpc",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.head,i=void 0!==n&&n,a=r.count,o=void 0===a?null:a,s="".concat(this.url,"/rpc/").concat(e);return new Qi(s,{headers:this.headers,schema:this.schema,fetch:this.fetch}).rpc(t,{head:i,count:o})}}]),e}();!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Xi||(Xi={}));var ra,na,ia,aa,oa=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((function(r,n){return r[n]=sa(n,e,t,i),r}),{})},sa=function(e,t,r,n){var i=t.find((function(t){return t.name===e})),a=null==i?void 0:i.type,o=r[e];return a&&!n.includes(a)?ua(a,o):ca(o)},ua=function(e,t){if("_"===e.charAt(0)){var r=e.slice(1,e.length);return da(t,r)}switch(e){case Xi.bool:return la(t);case Xi.float4:case Xi.float8:case Xi.int2:case Xi.int4:case Xi.int8:case Xi.numeric:case Xi.oid:return ha(t);case Xi.json:case Xi.jsonb:return fa(t);case Xi.timestamp:return pa(t);case Xi.abstime:case Xi.date:case Xi.daterange:case Xi.int4range:case Xi.int8range:case Xi.money:case Xi.reltime:case Xi.text:case Xi.time:case Xi.timestamptz:case Xi.timetz:case Xi.tsrange:case Xi.tstzrange:default:return ca(t)}},ca=function(e){return e},la=function(e){switch(e){case"t":return!0;case"f":return!1;default:return e}},ha=function(e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fa=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},da=function(e,t){if("string"!=typeof e)return e;var r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){var i,a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch(o){i=a?a.split(","):[]}return i.map((function(e){return ua(t,e)}))}return e},pa=function(e){return"string"==typeof e?e.replace(" ","T"):e},va={"X-Client-Info":"realtime-js/".concat("1.3.5")},ya=1e4;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(ra||(ra={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(na||(na={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(ia||(ia={})),function(e){e.websocket="websocket"}(aa||(aa={}));var ma=function(){function e(t,r){oi(this,e),this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}return ui(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}(),ba=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ya;oi(this,e),this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}return ui(e,[{key:"resend",value:function(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}},{key:"updatePayload",value:function(e){this.payload=Object.assign(Object.assign({},this.payload),e)}},{key:"receive",value:function(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}},{key:"startTimeout",value:function(){var e=this;this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(function(t){e._cancelRefEvent(),e._cancelTimeout(),e.receivedResp=t,e._matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger("timeout",{})}),this.timeout))}},{key:"trigger",value:function(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}},{key:"destroy",value:function(){this._cancelRefEvent(),this._cancelTimeout()}},{key:"_cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"_cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}},{key:"_matchReceive",value:function(e){var t=e.status,r=e.response;this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(r)}))}},{key:"_hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}}]),e}(),ga=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;oi(this,e),this.topic=t,this.params=n,this.socket=i,this.bindings=[],this.state=na.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new ba(this,ia.join,this.params,this.timeout),this.rejoinTimer=new ma((function(){return r.rejoinUntilConnected()}),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(function(){r.state=na.joined,r.rejoinTimer.reset(),r.pushBuffer.forEach((function(e){return e.send()})),r.pushBuffer=[]})),this.onClose((function(){r.rejoinTimer.reset(),r.socket.log("channel","close ".concat(r.topic," ").concat(r.joinRef())),r.state=na.closed,r.socket.remove(r)})),this.onError((function(e){r.isLeaving()||r.isClosed()||(r.socket.log("channel","error ".concat(r.topic),e),r.state=na.errored,r.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(function(){r.isJoining()&&(r.socket.log("channel","timeout ".concat(r.topic),r.joinPush.timeout),r.state=na.errored,r.rejoinTimer.scheduleTimeout())})),this.on(ia.reply,(function(e,t){r.trigger(r.replyEventName(t),e)}))}return ui(e,[{key:"rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}},{key:"subscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}},{key:"onClose",value:function(e){this.on(ia.close,e)}},{key:"onError",value:function(e){this.on(ia.error,(function(t){return e(t)}))}},{key:"on",value:function(e,t){this.bindings.push({event:e,callback:t})}},{key:"off",value:function(e){this.bindings=this.bindings.filter((function(t){return t.event!==e}))}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");var n=new ba(this,e,t,r);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}},{key:"updateJoinPayload",value:function(e){this.joinPush.updatePayload(e)}},{key:"unsubscribe",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=na.leaving;var r=function(){e.socket.log("channel","leave ".concat(e.topic)),e.trigger(ia.close,"leave",e.joinRef())};this.joinPush.destroy();var n=new ba(this,ia.leave,{},t);return n.receive("ok",(function(){return r()})).receive("timeout",(function(){return r()})),n.send(),this.canPush()||n.trigger("ok",{}),n}},{key:"onMessage",value:function(e,t,r){return t}},{key:"isMember",value:function(e){return this.topic===e}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=na.joining,this.joinPush.resend(e))}},{key:"trigger",value:function(e,t,r){var n=ia.close,i=ia.error,a=ia.leave,o=ia.join;if(!(r&&[n,i,a,o].indexOf(e)>=0&&r!==this.joinRef())){var s=this.onMessage(e,t,r);if(t&&!s)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((function(r){return"*"===r.event?e===(null==t?void 0:t.type):r.event===e})).map((function(e){return e.callback(s,r)}))}}},{key:"replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"isClosed",value:function(){return this.state===na.closed}},{key:"isErrored",value:function(){return this.state===na.errored}},{key:"isJoined",value:function(){return this.state===na.joined}},{key:"isJoining",value:function(){return this.state===na.joining}},{key:"isLeaving",value:function(){return this.state===na.leaving}}]),e}(),ka=r(2960),wa=function(){function e(){oi(this,e),this.HEADER_LENGTH=1}return ui(e,[{key:"decode",value:function(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}},{key:"_binaryDecode",value:function(e){var t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}},{key:"_decodeBroadcast",value:function(e,t,r){var n=t.getUint8(1),i=t.getUint8(2),a=this.HEADER_LENGTH+2,o=r.decode(e.slice(a,a+n));a+=n;var s=r.decode(e.slice(a,a+i));return a+=i,{ref:null,topic:o,event:s,payload:JSON.parse(r.decode(e.slice(a,e.byteLength)))}}}]),e}(),_a=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},xa=function(){},Ea=function(){function e(t,r){var n=this;oi(this,e),this.accessToken=null,this.channels=[],this.endPoint="",this.headers=va,this.params={},this.timeout=ya,this.transport=ka.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=xa,this.conn=null,this.sendBuffer=[],this.serializer=new wa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint="".concat(t,"/").concat(aa.websocket),(null==r?void 0:r.params)&&(this.params=r.params),(null==r?void 0:r.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),(null==r?void 0:r.timeout)&&(this.timeout=r.timeout),(null==r?void 0:r.logger)&&(this.logger=r.logger),(null==r?void 0:r.transport)&&(this.transport=r.transport),(null==r?void 0:r.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs),(null==r?void 0:r.longpollerTimeout)&&(this.longpollerTimeout=r.longpollerTimeout),this.reconnectAfterMs=(null==r?void 0:r.reconnectAfterMs)?r.reconnectAfterMs:function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.encode=(null==r?void 0:r.encode)?r.encode:function(e,t){return t(JSON.stringify(e))},this.decode=(null==r?void 0:r.decode)?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ma((function(){return _a(n,void 0,void 0,ai().mark((function e(){return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.disconnect();case 2:this.connect();case 3:case"end":return e.stop()}}),e,this)})))}),this.reconnectAfterMs)}return ui(e,[{key:"connect",value:function(){var e=this;this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=function(){return e._onConnOpen()},this.conn.onerror=function(t){return e._onConnError(t)},this.conn.onmessage=function(t){return e.onConnMessage(t)},this.conn.onclose=function(t){return e._onConnClose(t)}))}},{key:"disconnect",value:function(e,t){var r=this;return new Promise((function(n,i){try{r.conn&&(r.conn.onclose=function(){},e?r.conn.close(e,t||""):r.conn.close(),r.conn=null,r.heartbeatTimer&&clearInterval(r.heartbeatTimer),r.reconnectTimer.reset()),n({error:null,data:!0})}catch(a){n({error:a,data:!1})}}))}},{key:"log",value:function(e,t,r){this.logger(e,t,r)}},{key:"onOpen",value:function(e){this.stateChangeCallbacks.open.push(e)}},{key:"onClose",value:function(e){this.stateChangeCallbacks.close.push(e)}},{key:"onError",value:function(e){this.stateChangeCallbacks.error.push(e)}},{key:"onMessage",value:function(e){this.stateChangeCallbacks.message.push(e)}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case ra.connecting:return"connecting";case ra.open:return"open";case ra.closing:return"closing";default:return"closed"}}},{key:"isConnected",value:function(){return"open"===this.connectionState()}},{key:"remove",value:function(e){this.channels=this.channels.filter((function(t){return t.joinRef()!==e.joinRef()}))}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new ga(e,t,this);return this.channels.push(r),r}},{key:"push",value:function(e){var t=this,r=e.topic,n=e.event,i=e.payload,a=e.ref,o=function(){t.encode(e,(function(e){var r;null===(r=t.conn)||void 0===r||r.send(e)}))};this.log("push","".concat(r," ").concat(n," (").concat(a,")"),i),this.isConnected()?o():this.sendBuffer.push(o)}},{key:"onConnMessage",value:function(e){var t=this;this.decode(e.data,(function(e){var r=e.topic,n=e.event,i=e.payload,a=e.ref;a&&a===t.pendingHeartbeatRef?t.pendingHeartbeatRef=null:n===(null==i?void 0:i.type)&&t._resetHeartbeat(),t.log("receive","".concat(i.status||""," ").concat(r," ").concat(n," ").concat(a&&"("+a+")"||""),i),t.channels.filter((function(e){return e.isMember(r)})).forEach((function(e){return e.trigger(n,i,a)})),t.stateChangeCallbacks.message.forEach((function(t){return t(e)}))}))}},{key:"endPointURL",value:function(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}},{key:"makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"setAuth",value:function(e){this.accessToken=e;try{this.channels.forEach((function(t){e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(ia.access_token,{access_token:e})}))}catch(t){console.log("setAuth error",t)}}},{key:"leaveOpenTopic",value:function(e){var t=this.channels.find((function(t){return t.topic===e&&(t.isJoined()||t.isJoining())}));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}},{key:"_onConnOpen",value:function(){this.log("transport","connected to ".concat(this.endPointURL())),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach((function(e){return e()}))}},{key:"_onConnClose",value:function(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return t(e)}))}},{key:"_onConnError",value:function(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return t(e)}))}},{key:"_triggerChanError",value:function(){this.channels.forEach((function(e){return e.trigger(ia.error)}))}},{key:"_appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}},{key:"_flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:"_resetHeartbeat",value:function(){var e=this;this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return e._sendHeartbeat()}),this.heartbeatIntervalMs)}},{key:"_sendHeartbeat",value:function(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}]),e}(),Ta=function(){function e(t,r,n,i){oi(this,e);var a={},o="*"===i?"realtime:".concat(n):"realtime:".concat(n,":").concat(i),s=r.Authorization.split(" ")[1];s&&(a.user_token=s),this.subscription=t.channel(o,a)}return ui(e,[{key:"getPayloadRecords",value:function(e){var t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=oa(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=oa(e.columns,e.old_record)),t}},{key:"on",value:function(e,t){var r=this;return this.subscription.on(e,(function(e){var n={schema:e.schema,table:e.table,commit_timestamp:e.commit_timestamp,eventType:e.type,new:{},old:{},errors:e.errors};n=Object.assign(Object.assign({},n),r.getPayloadRecords(e)),t(n)})),this}},{key:"subscribe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.subscription.onError((function(t){return e("SUBSCRIPTION_ERROR",t)})),this.subscription.onClose((function(){return e("CLOSED")})),this.subscription.subscribe().receive("ok",(function(){return e("SUBSCRIBED")})).receive("error",(function(t){return e("SUBSCRIPTION_ERROR",t)})).receive("timeout",(function(){return e("RETRYING_AFTER_TIMEOUT")})),this.subscription}}]),e}();function Sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pi(e);if(t){var i=pi(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return di(this,r)}}var ja=function(e){hi(r,e);var t=Sa(r);function r(e,n){var i,a=n.headers,o=void 0===a?{}:a,s=n.schema,u=n.realtime,c=n.table,l=n.fetch;return oi(this,r),(i=t.call(this,e,{headers:o,schema:s,fetch:l}))._subscription=null,i._realtime=u,i._headers=o,i._schema=s,i._table=c,i}return ui(r,[{key:"on",value:function(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new Ta(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}]),r}(Ki),Oa=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Ra=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},Aa=function(e,t){if("function"!=typeof e.json)return t(e);e.json().then((function(r){return t({message:Ra(r),status:(null==e?void 0:e.status)||500})}))},Pa=function(e,t,r,n){var i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yi(),t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return Oa(this,void 0,void 0,ai().mark((function o(){return ai().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new Promise((function(o,s){e(r,Pa(t,n,i,a)).then((function(e){if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?o(e):e.json()})).then((function(e){return o(e)})).catch((function(e){return Aa(e,s)}))})));case 1:case"end":return o.stop()}}),o)})))}function Ca(e,t,r,n){return Oa(this,void 0,void 0,ai().mark((function i(){return ai().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Ia(e,"GET",t,r,n));case 1:case"end":return i.stop()}}),i)})))}function Na(e,t,r,n,i){return Oa(this,void 0,void 0,ai().mark((function a(){return ai().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Ia(e,"POST",t,n,i,r));case 1:case"end":return a.stop()}}),a)})))}function Ua(e,t,r,n,i){return Oa(this,void 0,void 0,ai().mark((function a(){return ai().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Ia(e,"PUT",t,n,i,r));case 1:case"end":return a.stop()}}),a)})))}function Fa(e,t,r,n,i){return Oa(this,void 0,void 0,ai().mark((function a(){return ai().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Ia(e,"DELETE",t,n,i,r));case 1:case"end":return a.stop()}}),a)})))}var Da=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},La={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ma={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Ba=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;oi(this,e),this.url=t,this.headers=r,this.bucketId=n,this.fetch=i}return ui(e,[{key:"uploadOrUpdate",value:function(e,t,r,n){return Da(this,void 0,void 0,ai().mark((function i(){var a,o,s,u,c,l,h;return ai().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,o=Object.assign(Object.assign({},Ma),n),s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)}),"undefined"!=typeof Blob&&r instanceof Blob?((a=new FormData).append("cacheControl",o.cacheControl),a.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(a=r).append("cacheControl",o.cacheControl):(a=r,s["cache-control"]="max-age=".concat(o.cacheControl),s["content-type"]=o.contentType),u=this._removeEmptyFolders(t),c=this._getFinalPath(u),i.next=8,yi()("".concat(this.url,"/object/").concat(c),{method:e,body:a,headers:s});case 8:if(!(l=i.sent).ok){i.next=13;break}return i.abrupt("return",{data:{Key:c},error:null});case 13:return i.next=15,l.json();case 15:return h=i.sent,i.abrupt("return",{data:null,error:h});case 17:i.next=22;break;case 19:return i.prev=19,i.t0=i.catch(0),i.abrupt("return",{data:null,error:i.t0});case 22:case"end":return i.stop()}}),i,this,[[0,19]])})))}},{key:"upload",value:function(e,t,r){return Da(this,void 0,void 0,ai().mark((function n(){return ai().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.uploadOrUpdate("POST",e,t,r));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"update",value:function(e,t,r){return Da(this,void 0,void 0,ai().mark((function n(){return ai().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.uploadOrUpdate("PUT",e,t,r));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"move",value:function(e,t){return Da(this,void 0,void 0,ai().mark((function r(){var n;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Na(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});case 3:return n=r.sent,r.abrupt("return",{data:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"createSignedUrl",value:function(e,t){return Da(this,void 0,void 0,ai().mark((function r(){var n,i,a;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=this._getFinalPath(e),r.next=4,Na(this.fetch,"".concat(this.url,"/object/sign/").concat(n),{expiresIn:t},{headers:this.headers});case 4:return i=r.sent,a="".concat(this.url).concat(i.signedURL),i={signedURL:a},r.abrupt("return",{data:i,error:null,signedURL:a});case 10:return r.prev=10,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0,signedURL:null});case 13:case"end":return r.stop()}}),r,this,[[0,10]])})))}},{key:"download",value:function(e){return Da(this,void 0,void 0,ai().mark((function t(){var r,n,i;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this._getFinalPath(e),t.next=4,Ca(this.fetch,"".concat(this.url,"/object/").concat(r),{headers:this.headers,noResolveJson:!0});case 4:return n=t.sent,t.next=7,n.blob();case 7:return i=t.sent,t.abrupt("return",{data:i,error:null});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 14:case"end":return t.stop()}}),t,this,[[0,11]])})))}},{key:"getPublicUrl",value:function(e){try{var t=this._getFinalPath(e),r="".concat(this.url,"/object/public/").concat(t);return{data:{publicURL:r},error:null,publicURL:r}}catch(n){return{data:null,error:n,publicURL:null}}}},{key:"remove",value:function(e){return Da(this,void 0,void 0,ai().mark((function t(){var r;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fa(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"list",value:function(e,t,r){return Da(this,void 0,void 0,ai().mark((function n(){var i,a;return ai().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=Object.assign(Object.assign(Object.assign({},La),t),{prefix:e||""}),n.next=4,Na(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),i,{headers:this.headers},r);case 4:return a=n.sent,n.abrupt("return",{data:a,error:null});case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 11:case"end":return n.stop()}}),n,this,[[0,8]])})))}},{key:"_getFinalPath",value:function(e){return"".concat(this.bucketId,"/").concat(e)}},{key:"_removeEmptyFolders",value:function(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}]),e}(),Ga={"X-Client-Info":"storage-js/".concat("0.0.0")},Ha=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},qa=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;oi(this,e),this.url=t,this.headers=Object.assign(Object.assign({},Ga),r),this.fetch=n}return ui(e,[{key:"listBuckets",value:function(){return Ha(this,void 0,void 0,ai().mark((function e(){var t;return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ca(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers});case 3:return t=e.sent,e.abrupt("return",{data:t,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{data:null,error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getBucket",value:function(e){return Ha(this,void 0,void 0,ai().mark((function t(){var r;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ca(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"createBucket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Ha(this,void 0,void 0,ai().mark((function r(){var n;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Na(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public},{headers:this.headers});case 3:return n=r.sent,r.abrupt("return",{data:n.name,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"updateBucket",value:function(e,t){return Ha(this,void 0,void 0,ai().mark((function r(){var n;return ai().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ua(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public},{headers:this.headers});case 3:return n=r.sent,r.abrupt("return",{data:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{data:null,error:r.t0});case 10:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"emptyBucket",value:function(e){return Ha(this,void 0,void 0,ai().mark((function t(){var r;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Na(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"deleteBucket",value:function(e){return Ha(this,void 0,void 0,ai().mark((function t(){var r;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fa(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{data:null,error:t.t0});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}();function za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pi(e);if(t){var i=pi(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return di(this,r)}}var Va=function(e){hi(r,e);var t=za(r);function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return oi(this,r),t.call(this,e,n,i)}return ui(r,[{key:"from",value:function(e){return new Ba(this.url,this.headers,e,this.fetch)}}]),r}(qa),Ja=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Za={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:ci},$a=function(){function e(t,r,n){if(oi(this,e),this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");var i=t.replace(/\/$/,""),a=Object.assign(Object.assign({},Za),n);this.restUrl="".concat(i,"/rest/v1"),this.realtimeUrl="".concat(i,"/realtime/v1").replace("http","ws"),this.authUrl="".concat(i,"/auth/v1"),this.storageUrl="".concat(i,"/storage/v1"),this.schema=a.schema,this.multiTab=a.multiTab,this.fetch=a.fetch,this.headers=Object.assign(Object.assign({},ci),null==n?void 0:n.headers),this.auth=this._initSupabaseAuthClient(a),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},a.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}return ui(e,[{key:"storage",get:function(){return new Va(this.storageUrl,this._getAuthHeaders(),this.fetch)}},{key:"from",value:function(e){var t="".concat(this.restUrl,"/").concat(e);return new ja(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch})}},{key:"rpc",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.head,i=void 0!==n&&n,a=r.count,o=void 0===a?null:a,s=this._initPostgRESTClient();return s.rpc(e,t,{head:i,count:o})}},{key:"removeAllSubscriptions",value:function(){return Ja(this,void 0,void 0,ai().mark((function e(){var t,r,n=this;return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.realtime.channels.slice(),r=t.map((function(e){return n.removeSubscription(e).then((function(){return{status:"fulfilled",value:{error:null}}})).catch((function(e){return{status:"rejected",reason:e}}))})),e.abrupt("return",Promise.all(r));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"removeSubscription",value:function(e){var t=this;return new Promise((function(r,n){return Ja(t,void 0,void 0,ai().mark((function t(){var i,a,o,s,u,c;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._closeSubscription(e);case 2:if(i=t.sent,!(a=i.error)){t.next=6;break}return t.abrupt("return",n({error:a}));case 6:if(0!==(o=this.getSubscriptions()).length){t.next=14;break}return t.next=10,this.realtime.disconnect();case 10:if(s=t.sent,!(u=s.error)){t.next=14;break}return t.abrupt("return",n({error:u}));case 14:return c=o.filter((function(e){return e.isJoined()})).length,t.abrupt("return",r({data:{openSubscriptions:c},error:null}));case 16:case"end":return t.stop()}}),t,this)})))}))}},{key:"_closeSubscription",value:function(e){return Ja(this,void 0,void 0,ai().mark((function t(){var r=this;return ai().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isClosed()){t.next=4;break}return t.next=3,this._closeChannel(e);case 3:return t.abrupt("return",t.sent);case 4:return t.abrupt("return",new Promise((function(t){return r.realtime.remove(e),t({error:null})})));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getSubscriptions",value:function(){return this.realtime.channels}},{key:"_initSupabaseAuthClient",value:function(e){var t=e.autoRefreshToken,r=e.persistSession,n=e.detectSessionInUrl,i=e.localStorage,a=e.headers,o=e.fetch,s={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Gi({url:this.authUrl,headers:Object.assign(Object.assign({},a),s),autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,localStorage:i,fetch:o})}},{key:"_initRealtimeClient",value:function(e){return new Ea(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},null==e?void 0:e.params),{apikey:this.supabaseKey})}))}},{key:"_initPostgRESTClient",value:function(){return new ta(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch})}},{key:"_getAuthHeaders",value:function(){var e,t,r=this.headers,n=null!==(t=null===(e=this.auth.session())||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization="Bearer ".concat(n),r}},{key:"_closeChannel",value:function(e){return new Promise((function(t,r){e.unsubscribe().receive("ok",(function(){return t({error:null})})).receive("error",(function(e){return r({error:e})})).receive("timeout",(function(){return r({error:"timed out"})}))}))}},{key:"_listenForMultiTabEvents",value:function(){var e=this;if(!this.multiTab||"undefined"==typeof window||!(null===window||void 0===window?void 0:window.addEventListener))return null;try{return null===window||void 0===window?void 0:window.addEventListener("storage",(function(t){var r,n,i;if("supabase.auth.token"===t.key){var a=JSON.parse(String(t.newValue)),o=null!==(n=null===(r=null==a?void 0:a.currentSession)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,s=null===(i=e.auth.session())||void 0===i?void 0:i.access_token;o?!s&&o?e._handleTokenChanged("SIGNED_IN",o,"STORAGE"):s!==o&&e._handleTokenChanged("TOKEN_REFRESHED",o,"STORAGE"):e._handleTokenChanged("SIGNED_OUT",o,"STORAGE")}}))}catch(t){return console.error("_listenForMultiTabEvents",t),null}}},{key:"_listenForAuthEvents",value:function(){var e=this;return this.auth.onAuthStateChange((function(t,r){e._handleTokenChanged(t,null==r?void 0:r.access_token,"CLIENT")})).data}},{key:"_handleTokenChanged",value:function(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===t?"SIGNED_OUT"!==e&&"USER_DELETED"!==e||(this.removeAllSubscriptions(),"STORAGE"==r&&this.auth.signOut()):(this.realtime.setAuth(t),"STORAGE"==r&&this.auth.setAuth(t),this.changedAccessToken=t)}}]),e}(),Ka=function(e,t,r){return new $a(e,t,r)}("https://jjzktuzgznsnbdfrcmqq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTY0MzMyMDA5NSwiZXhwIjoxOTU4ODk2MDk1fQ.1_tKrvgnDFEYZFmK_j4NcSDXTX5cPCGbRiY6rboh5Gs"),Wa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function Ya(e){for(var t=" ",r=Wa.length,n=0;n<e;n++)t+=Wa.charAt(Math.floor(Math.random()*r));return t}function Xa(e,t,r){return t in e?e[t]:r}function Qa(e){return e.replace(/([A-Z])/g," $1").split(" ").join("_").toLowerCase()}function eo(){return(eo=ni(ai().mark((function e(t){var r,n,i;return ai().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:t.emailAddress,password:Xa(t,"password",Ya(40))},n={},["firstName","lastName","companyName","phoneNumber","location"].forEach((function(e,r){e in t&&(n[Qa(e)]=t[e])})),e.next=6,Ka.auth.signUp(r);case 6:if(!(i=e.sent).error){e.next=9;break}throw Error(i.error.message);case 9:return n.id=i.user.id,e.next=12,Ka.from("profiles").upsert(n);case 12:e.sent;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function to(e){return function(t){var r;return t||(r=[e,"is required"].join(" ")),console.log(r),r}}var ro=[{id:"firstName",placeholder:"Tommy",text:"First Name",required:!0,validator:to("First Name")},{id:"lastName",placeholder:"Tutone",text:"Last Name",required:!0,validator:to("Last Name")},{id:"companyName",placeholder:"Columbia Records",text:"Company Name",required:!0,validator:to("Company Name"),colSpan:4},{id:"emailAddress",placeholder:"jenny@yonumba.com",text:"Email Address",required:!0,validator:function(e){var t;return t=to("Email Address")(e),e?(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||(t="Invalid email address."),t):t}},{id:"phoneNumber",placeholder:"+1 (314) 867-5309",text:"Phone Number",validator:function(e){var t;return e&&!/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(e)&&(t="Invalid phone number."),t}}],no=function(e){var t=Object.assign.apply(Object,[{}].concat((0,n.Z)(ro.map((function(e){var t;return(t={})[e.id]="",t})))));t.location=e.location;var r={base:4,lg:2},a={color:{base:"bastille"},fontFamily:"heading",fontSize:{base:"16px",lg:"15px"},fontWeight:"500",lineHeight:"135%"};return i.createElement(Jn,{initialValues:t,validateOnChange:!1,onSubmit:function(e,t){(function(e){return eo.apply(this,arguments)})(e).then((function(e){t.setSubmitting(!1),alert("thank you, you're all set!"),t.resetForm()})).catch((function(e){t.setSubmitting(!1),alert("Apologies, we encountered the following error: "+e)}))}},(function(e){return i.createElement(Xn,null,i.createElement(V.MI,{columns:4,columnGap:{base:"0 auto",lg:"26px"},rowGap:{base:"32px",lg:"32px"}},ro.map((function(e,t){return i.createElement(V.P4,{colSpan:"colSpan"in e?e.colSpan:r,key:t},i.createElement(Yn,{name:e.id,validate:e.validator},(function(t){var r=t.field,n=t.form;return i.createElement(m,{isRequired:!(null==e||!e.required),isInvalid:n.errors[e.id]&&n.touched[e.id],id:e.id},i.createElement(T,a,e.text),i.createElement(O,Object.assign({},r,{bg:"white",placeholder:e.placeholder})),i.createElement(_,null,n.errors[e.id]))})))})),i.createElement(V.P4,{colSpan:{base:2,lg:1}},i.createElement(J.zx,{size:"lg",borderRadius:["0"],border:"1px",bg:"mango",w:"full",loadingText:"Submitting",spinnerPlacement:"start",isLoading:e.isSubmitting,type:"submit"},"Join"))))}))},io=function(e){return i.createElement(V.kC,{bg:"pololight",w:"full",h:"full",px:{base:"18px",lg:"35px"},py:{base:"35px",lg:"49px"},border:"1px"},i.createElement(no,{location:e.location}))}},5666:function(e){var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new O(n||[]);return a._invoke=function(e,t,r){var n=h;return function(i,a){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw a;return A()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=T(o,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=l(e,t,r);if("normal"===u.type){if(n=r.done?p:f,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(e,r,o),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function b(){}var g={};u(g,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(R([])));w&&w!==r&&n.call(w,a)&&(g=w);var _=b.prototype=y.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function R(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=b,u(_,"constructor",b),u(b,"constructor",m),m.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(r){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},9794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=9a63c5fe20d0d619d7e0731041c9c921acc8acaf-c89c63b4b18d02b6d5fa.js.map